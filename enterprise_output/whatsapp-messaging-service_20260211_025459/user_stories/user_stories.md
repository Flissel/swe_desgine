# User Stories and Epics

- Total Epics: 7
- Total User Stories: 126

---

# Epics

# EPIC-001: Authentifizierung und Kontosicherheit

**Status:** draft

## Description

Umfasst Registrierung, Anmeldeverfahren und Sicherheitsmechanismen, um Benutzerkonten zuverlässig zu schützen und den Zugriff zu steuern.

## Linked Requirements

- WA-AUTH-001
- WA-AUTH-002
- WA-AUTH-003
- WA-AUTH-004
- WA-AUTH-005
- WA-SEC-001
- WA-SEC-002
- WA-SEC-003
- WA-SEC-006
- WA-SEC-007
- WA-SEC-008

## User Stories

- US-001
- US-002
- US-003
- US-004
- US-005
- US-057
- US-058
- US-059
- US-062
- US-063
- US-064

---

# EPIC-002: Profil- und Identitätsverwaltung

**Status:** draft

## Description

Deckt die Verwaltung von Benutzerprofilen und Sichtbarkeiten ab, um eine konsistente Identität und Privatsphäre zu gewährleisten.

## Linked Requirements

- WA-PROF-001
- WA-PROF-002
- WA-PROF-003
- WA-PROF-004
- WA-PROF-005
- WA-SET-001
- WA-SET-002
- WA-SET-003
- WA-SET-004

## User Stories

- US-006
- US-007
- US-008
- US-009
- US-010
- US-080
- US-081
- US-082
- US-083

---

# EPIC-003: Messaging-Kernfunktionen

**Status:** draft

## Description

Beinhaltet alle zentralen Chat-Funktionen für Text, Reaktionen, Weiterleitung und besondere Nachrichtenmodi, um eine reichhaltige Kommunikation zu ermöglichen.

## Linked Requirements

- WA-MSG-001
- WA-MSG-002
- WA-MSG-003
- WA-MSG-004
- WA-MSG-005
- WA-MSG-006
- WA-MSG-007
- WA-MSG-008
- WA-MSG-009
- WA-MSG-010
- WA-MSG-011
- WA-MSG-012
- WA-MSG-013
- WA-MSG-014
- WA-MSG-015

## User Stories

- US-011
- US-012
- US-013
- US-014
- US-015
- US-016
- US-017
- US-018
- US-019
- US-020
- US-021
- US-022
- US-023
- US-024
- US-025

---

# EPIC-004: Medien- und Statusinhalte

**Status:** draft

## Description

Ermöglicht das Teilen und Verwalten von Medien sowie Status-Updates, um visuelle und flüchtige Inhalte zu unterstützen.

## Linked Requirements

- WA-STS-001
- WA-STS-002
- WA-STS-003
- WA-STS-004
- WA-STS-005
- WA-MED-001
- WA-MED-002
- WA-MED-003
- WA-MED-004
- WA-MED-005
- WA-MED-006
- WA-MED-007
- WA-MED-008
- WA-MED-009
- WA-MED-010

## User Stories

- US-042
- US-043
- US-044
- US-045
- US-046
- US-047
- US-048
- US-049
- US-050
- US-051
- US-052
- US-053
- US-054
- US-055
- US-056

---

# EPIC-005: Gruppen, Communities und Broadcasts

**Status:** draft

## Description

Fasst Funktionen für Gruppenkommunikation, Communities, Kanäle, Umfragen und Events zusammen, um skalierte Interaktionen zu ermöglichen.

## Linked Requirements

- WA-GRP-001
- WA-GRP-002
- WA-GRP-003
- WA-GRP-004
- WA-GRP-005
- WA-GRP-006
- WA-GRP-007
- WA-GRP-008
- WA-GRP-009
- WA-SET-005

## User Stories

- US-026
- US-027
- US-028
- US-029
- US-030
- US-031
- US-032
- US-033
- US-034
- US-084

---

# EPIC-006: Anrufe und Echtzeitkommunikation

**Status:** draft

## Description

Beinhaltet Audio- und Videoanrufe inklusive Gruppenfunktionen, Benachrichtigungen und Verlauf für zuverlässige Echtzeitkommunikation.

## Linked Requirements

- WA-CALL-001
- WA-CALL-002
- WA-CALL-003
- WA-CALL-004
- WA-CALL-005
- WA-CALL-006
- WA-CALL-007

## User Stories

- US-035
- US-036
- US-037
- US-038
- US-039
- US-040
- US-041

---

# EPIC-007: Plattform, Integration und Betrieb

**Status:** draft

## Description

Deckt Kontakte, Benachrichtigungen, Suche, Einstellungen, Backups, Business-Funktionen, Barrierefreiheit, Performance, Integrationen, KI und Lokalisierung ab, um Betrieb und Erweiterbarkeit sicherzustellen.

## Linked Requirements

- WA-NOT-001
- WA-NOT-002
- WA-NOT-003
- WA-NOT-004
- WA-NOT-005
- WA-NOT-006
- WA-CON-001
- WA-CON-002
- WA-CON-003
- WA-CON-004
- WA-CON-005
- WA-SRC-001
- WA-SRC-002
- WA-SRC-003
- WA-SRC-004
- WA-SET-006
- WA-SET-007
- WA-SET-008
- WA-SET-009
- WA-SET-010
- WA-BAK-001
- WA-BAK-002
- WA-BAK-003
- WA-BAK-004
- WA-BAK-005
- WA-BAK-006
- WA-BUS-001
- WA-BUS-002
- WA-BUS-003
- WA-BUS-004
- WA-BUS-005
- WA-BUS-006
- WA-BUS-007
- WA-BUS-008
- WA-BUS-009
- WA-BUS-010
- WA-ACC-001
- WA-ACC-002
- WA-ACC-003
- WA-ACC-004
- WA-PERF-001
- WA-PERF-002
- WA-PERF-003
- WA-PERF-004
- WA-PERF-005
- WA-INT-001
- WA-INT-002
- WA-INT-003
- WA-INT-004
- WA-INT-005
- WA-INT-006
- WA-AI-001
- WA-AI-002
- WA-AI-003
- WA-LOC-001
- WA-LOC-002
- WA-LOC-003
- WA-SEC-004
- WA-SEC-005

## User Stories

- US-060
- US-061
- US-065
- US-066
- US-067
- US-068
- US-069
- US-070
- US-071
- US-072
- US-073
- US-074
- US-075
- US-076
- US-077
- US-078
- US-079
- US-085
- US-086
- US-087
- US-088
- US-089
- US-090
- US-091
- US-092
- US-093
- US-094
- US-095
- US-096
- US-097
- US-098
- US-099
- US-100
- US-101
- US-102
- US-103
- US-104
- US-105
- US-106
- US-107
- US-108
- US-109
- US-110
- US-111
- US-112
- US-113
- US-114
- US-115
- US-116
- US-117
- US-118
- US-119
- US-120
- US-121
- US-122
- US-123
- US-124
- US-125
- US-126

---

# User Stories

## US-001: Telefonnummer-Registrierung

**Priority:** MUST
**Linked Requirement:** WA-AUTH-001

### User Story

> As a **registrierter Benutzer**
> I want to **mich mit meiner Telefonnummer registrieren und verifizieren**
> So that **damit ich schnell und sicher Zugriff auf die Plattform erhalte**

### Acceptance Criteria

**AC-1:**
- Given: ich befinde mich im Registrierungsprozess und gebe eine gültige Telefonnummer ein
- When: ich die Registrierung absende und den Verifizierungscode korrekt eingebe
- Then: wird mein Konto erstellt und als verifiziert markiert

**AC-2:**
- Given: ich gebe eine ungültige Telefonnummer ein
- When: ich die Registrierung absende
- Then: erhalte ich eine verständliche Fehlermeldung und kann die Nummer korrigieren

**AC-3:**
- Given: ich habe einen Verifizierungscode erhalten
- When: ich einen falschen oder abgelaufenen Code eingebe
- Then: wird die Verifizierung abgelehnt und ich kann einen neuen Code anfordern

---

## US-002: Zwei-Faktor-Authentifizierung

**Priority:** MUST
**Linked Requirement:** WA-AUTH-002

### User Story

> As a **registrierter Nutzer**
> I want to **die optionale Zwei-Faktor-Authentifizierung mit einer 6-stelligen PIN aktivieren und nutzen**
> So that **mein Konto besser vor unbefugtem Zugriff zu schützen, ohne die Bedienung zu verkomplizieren**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und befindet sich in den Sicherheitseinstellungen
- When: er die 2FA aktiviert und eine 6-stellige PIN bestätigt
- Then: wird 2FA erfolgreich aktiviert und der Nutzer erhält eine Bestätigung

**AC-2:**
- Given: 2FA ist aktiviert und der Nutzer meldet sich mit korrekten Zugangsdaten an
- When: er die angeforderte 6-stellige PIN korrekt eingibt
- Then: erhält der Nutzer Zugriff auf sein Konto

**AC-3:**
- Given: 2FA ist aktiviert
- When: der Nutzer eine PIN mit weniger oder mehr als 6 Ziffern eingibt
- Then: wird die Eingabe abgelehnt und eine verständliche Fehlermeldung angezeigt

---

## US-003: Biometrische Entsperrung

**Priority:** SHOULD
**Linked Requirement:** WA-AUTH-003

### User Story

> As a **Endnutzer**
> I want to **die App mit Fingerabdruck oder Face ID entsperren**
> So that **sich schnell und sicher anmelden zu koennen, ohne Passwoerter eingeben zu muessen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer hat in den Einstellungen die biometrische Entsperrung aktiviert und ein biometrisches Merkmal ist auf dem Geraet hinterlegt
- When: der Nutzer die App oeffnet
- Then: wird der Nutzer erfolgreich per Fingerabdruck oder Face ID authentifiziert und zur Startseite weitergeleitet

**AC-2:**
- Given: die biometrische Entsperrung ist aktiviert und die biometrische Pruefung schlaegt fehl
- When: der Nutzer den Authentifizierungsversuch wiederholt oder abbricht
- Then: wird eine alternative Anmeldung per PIN/Passwort angeboten

**AC-3:**
- Given: das Geraet unterstuetzt keine biometrische Authentifizierung oder es sind keine biometrischen Daten hinterlegt
- When: der Nutzer versucht die biometrische Entsperrung zu aktivieren
- Then: wird eine informative Meldung angezeigt und die Aktivierung ist nicht moeglich

---

## US-004: Multi-Device Support

**Priority:** MUST
**Linked Requirement:** WA-AUTH-004

### User Story

> As a **registrierter Nutzer**
> I want to **den Dienst gleichzeitig auf mehreren Geräten nutzen**
> So that **um Nachrichten nahtlos und plattformübergreifend zu senden und zu empfangen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist auf einem Smartphone angemeldet
- When: er sich zusätzlich auf einem Desktop-Gerät anmeldet
- Then: beide Geräte bleiben gleichzeitig aktiv und zeigen denselben Nachrichtenstatus

**AC-2:**
- Given: der Nutzer ist auf zwei Geräten gleichzeitig angemeldet
- When: er eine Nachricht auf einem Gerät sendet oder liest
- Then: wird der Status auf dem anderen Gerät in Echtzeit synchronisiert

**AC-3:**
- Given: das zulässige Geräte-Limit ist erreicht
- When: der Nutzer versucht, ein weiteres Gerät anzumelden
- Then: wird die Anmeldung abgelehnt und eine verständliche Fehlermeldung angezeigt

---

## US-005: Passkey-Unterstuetzung

**Priority:** SHOULD
**Linked Requirement:** WA-AUTH-005

### User Story

> As a **Registrierter Nutzer**
> I want to **sich per Passkey ohne Passwort anmelden**
> So that **um eine schnelle, sichere und plattformübergreifende Anmeldung zu erhalten**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer hat einen Passkey für sein Konto registriert und ein kompatibles Gerät
- When: er die Anmeldung per Passkey startet und die Geräteauthentifizierung bestätigt
- Then: wird er erfolgreich und ohne Passworteingabe angemeldet

**AC-2:**
- Given: der Nutzer besitzt mehrere Passkeys für dasselbe Konto
- When: er die Anmeldung per Passkey startet
- Then: wird eine Auswahl der verfügbaren Passkeys angezeigt und der gewählte Passkey ermöglicht die Anmeldung

**AC-3:**
- Given: die Passkey-Validierung schlägt fehl oder wird abgebrochen
- When: der Nutzer den Anmeldevorgang fortsetzt
- Then: wird eine verständliche Fehlermeldung angezeigt und eine alternative Anmeldemethode angeboten

---

## US-006: Profilbild

**Priority:** MUST
**Linked Requirement:** WA-PROF-001

### User Story

> As a **registrierter Benutzer**
> I want to **ein Profilbild hochladen und verwalten**
> So that **damit mein Profil professionell wirkt und ich leichter erkannt werde**

### Acceptance Criteria

**AC-1:**
- Given: der Benutzer ist angemeldet und befindet sich in den Profileinstellungen
- When: er ein gueltiges Bildformat auswaehlt und hochlaedt
- Then: wird das Profilbild gespeichert und sofort im Profil angezeigt

**AC-2:**
- Given: der Benutzer hat bereits ein Profilbild
- When: er ein neues Profilbild hochlaedt
- Then: wird das alte Profilbild ersetzt und nur das neue Bild angezeigt

**AC-3:**
- Given: der Benutzer waehlt eine Datei mit ungueltigem Format oder zu grosser Dateigroesse
- When: er den Upload startet
- Then: erhaelt er eine klare Fehlermeldung und das bisherige Profilbild bleibt unveraendert

---

## US-007: Anzeigename

**Priority:** MUST
**Linked Requirement:** WA-PROF-002

### User Story

> As a **Profiladministrator**
> I want to **einen konfigurierbaren Anzeigenamen für das Profil festlegen und ändern**
> So that **damit Kunden eine professionelle und vertrauenswürdige Identität sehen und die Kommunikation klar zuordnen können**

### Acceptance Criteria

**AC-1:**
- Given: der Profiladministrator ist im Profilbereich angemeldet
- When: er einen gültigen Anzeigenamen eingibt und speichert
- Then: wird der Anzeigename gespeichert und bei zukünftigen Nachrichten und Profilansichten angezeigt

**AC-2:**
- Given: der Profiladministrator ist im Profilbereich angemeldet
- When: er einen leeren oder zu langen Anzeigenamen speichert
- Then: wird eine Validierungsfehlermeldung angezeigt und der vorherige Anzeigename bleibt unverändert

**AC-3:**
- Given: der Profiladministrator ist im Profilbereich angemeldet
- When: er einen Anzeigenamen ändert und die Änderung bestätigt
- Then: ist der neue Anzeigename plattformübergreifend verfügbar und wird innerhalb der definierten Performance-Zeit aktualisiert

---

## US-008: Info/Status Text

**Priority:** MUST
**Linked Requirement:** WA-PROF-003

### User Story

> As a **Business-Profil-Inhaber**
> I want to **einen kurzen Info-/Status-Text im Profil hinterlegen und anzeigen lassen**
> So that **damit Kunden schnell relevante Informationen erhalten und die Kommunikation professioneller wirkt**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer befindet sich im Profilbereich und ist angemeldet
- When: er einen Info-/Status-Text innerhalb des erlaubten Längenlimits speichert
- Then: wird der Text im Profil angezeigt und ist nach erneutem Öffnen des Profils weiterhin sichtbar

**AC-2:**
- Given: der Nutzer gibt einen Text ein, der das maximale Längenlimit überschreitet
- When: er versucht zu speichern
- Then: wird eine verständliche Fehlermeldung angezeigt und der Text wird nicht gespeichert

**AC-3:**
- Given: der Nutzer löscht den bestehenden Info-/Status-Text
- When: er speichert die Änderung
- Then: wird kein Info-/Status-Text im Profil angezeigt und die Änderung bleibt bestehen

---

## US-009: Telefonnummer anzeigen

**Priority:** MUST
**Linked Requirement:** WA-PROF-004

### User Story

> As a **Business-Profilinhaber**
> I want to **die hinterlegte Telefonnummer im Profil anzeigen**
> So that **damit Kunden ihn schnell kontaktieren können und die Kommunikation zuverlässig erfolgt**

### Acceptance Criteria

**AC-1:**
- Given: der Profilinhaber ist angemeldet und eine gültige Telefonnummer ist im Profil hinterlegt
- When: er das Profil aufruft
- Then: wird die Telefonnummer im Profil angezeigt

**AC-2:**
- Given: der Profilinhaber ist angemeldet und keine Telefonnummer ist im Profil hinterlegt
- When: er das Profil aufruft
- Then: wird ein Hinweis angezeigt, dass keine Telefonnummer verfügbar ist

**AC-3:**
- Given: ein nicht autorisierter Nutzer versucht auf die Profilansicht zuzugreifen
- When: der Zugriff ohne Berechtigung erfolgt
- Then: wird die Telefonnummer nicht angezeigt und ein Zugriff verweigert

---

## US-010: QR-Code Profil

**Priority:** SHOULD
**Linked Requirement:** WA-PROF-005

### User Story

> As a **Business-Profilinhaber**
> I want to **einen scanbaren QR-Code zu meinem Profil anzeigen und herunterladen**
> So that **damit Kunden mich schnell und plattformübergreifend hinzufügen können**

### Acceptance Criteria

**AC-1:**
- Given: ein verifiziertes Business-Profil ist vorhanden
- When: ich die Profilseite öffne
- Then: wird ein scanbarer QR-Code für das Profil angezeigt

**AC-2:**
- Given: der QR-Code wird angezeigt
- When: ich den Code mit einem Standard-QR-Scanner scanne
- Then: öffnet sich der Link zum Profil und das Hinzufügen wird angeboten

**AC-3:**
- Given: der QR-Code wird angezeigt
- When: ich den Download auslöse
- Then: wird der QR-Code in einem gängigen Bildformat gespeichert

**AC-4:**
- Given: das Profil ist deaktiviert oder nicht verfügbar
- When: ich den QR-Code aufrufe
- Then: wird eine verständliche Fehlermeldung angezeigt und kein QR-Code generiert

---

## US-011: Textnachricht senden

**Priority:** MUST
**Linked Requirement:** WA-MSG-001

### User Story

> As a **Endnutzer**
> I want to **eine Textnachricht in Echtzeit an einen Kontakt senden**
> So that **um schnell und zuverlässig zu kommunizieren und eine sofortige Antwort zu ermöglichen**

### Acceptance Criteria

**AC-1:**
- Given: der Endnutzer ist angemeldet und hat eine stabile Internetverbindung
- When: er eine Textnachricht an einen gültigen Kontakt sendet
- Then: wird die Nachricht in Echtzeit zugestellt und als gesendet sowie beim Empfänger als empfangen angezeigt

**AC-2:**
- Given: der Endnutzer ist angemeldet
- When: er eine leere oder nur aus Leerzeichen bestehende Nachricht senden möchte
- Then: wird das Senden verhindert und eine verständliche Validierungsmeldung angezeigt

**AC-3:**
- Given: der Endnutzer ist angemeldet
- When: während des Sendens die Netzwerkverbindung unterbrochen wird
- Then: wird die Nachricht als nicht zugestellt markiert und ein erneuter Sendeversuch ermöglicht

---

## US-012: Sprachnachricht

**Priority:** MUST
**Linked Requirement:** WA-MSG-002

### User Story

> As a **Endnutzer**
> I want to **eine Sprachnachricht aufnehmen und senden**
> So that **um schnell und intuitiv zu kommunizieren und eine zuverlaessige Zustellung zu erhalten**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist in einem Chat und das Mikrofon ist freigegeben
- When: der Nutzer eine Sprachnachricht aufnimmt und auf „Senden“ tippt
- Then: wird die Sprachnachricht gesendet und im Chat als zugestellt angezeigt

**AC-2:**
- Given: der Nutzer ist in einem Chat
- When: der Nutzer die Aufnahme startet und vor dem Senden abbricht
- Then: wird keine Sprachnachricht gesendet und es erscheint kein Nachrichtenentwurf im Chat

**AC-3:**
- Given: der Nutzer ist in einem Chat und die Netzwerkverbindung ist unterbrochen
- When: der Nutzer eine Sprachnachricht senden moechte
- Then: erhaelt der Nutzer eine Fehlermeldung und die Sprachnachricht wird nicht als zugestellt angezeigt

---

## US-013: Nachricht loeschen

**Priority:** MUST
**Linked Requirement:** WA-MSG-003

### User Story

> As a **Endnutzer**
> I want to **eine gesendete oder empfangene Nachricht loeschen**
> So that **den Chat uebersichtlich halten und Datenschutzanforderungen erfuellen**

### Acceptance Criteria

**AC-1:**
- Given: eine Nachricht ist in einem Chat vorhanden und der Nutzer hat Zugriffsrechte
- When: der Nutzer die Nachricht loescht und die Aktion bestaetigt
- Then: die Nachricht wird aus dem Chat entfernt und eine Bestaetigung wird angezeigt

**AC-2:**
- Given: der Nutzer versucht eine Nachricht zu loeschen, die bereits geloescht ist
- When: die Loeschaktion ausgefuehrt wird
- Then: das System zeigt eine informative Meldung und nimmt keine weiteren Aenderungen vor

**AC-3:**
- Given: eine Loeschanfrage wird gesendet, waehrend die Verbindung unterbrochen ist
- When: der Nutzer die Nachricht loeschen will
- Then: das System zeigt eine Fehlermeldung an und die Nachricht bleibt unveraendert

---

## US-014: Nachricht bearbeiten

**Priority:** MUST
**Linked Requirement:** WA-MSG-004

### User Story

> As a **Endnutzer**
> I want to **eine bereits gesendete Nachricht bearbeiten**
> So that **Fehler zu korrigieren und eine professionelle, zuverlässige Kommunikation sicherzustellen**

### Acceptance Criteria

**AC-1:**
- Given: eine gesendete Nachricht ist im Chatverlauf vorhanden und wurde innerhalb des erlaubten Bearbeitungszeitraums gesendet
- When: der Nutzer die Nachricht bearbeitet und speichert
- Then: wird die Nachricht aktualisiert angezeigt und als bearbeitet gekennzeichnet

**AC-2:**
- Given: eine gesendete Nachricht ist im Chatverlauf vorhanden, aber der Bearbeitungszeitraum ist abgelaufen
- When: der Nutzer versucht, die Nachricht zu bearbeiten
- Then: wird die Bearbeitung verweigert und eine verständliche Hinweisnachricht angezeigt

**AC-3:**
- Given: eine gesendete Nachricht ist im Chatverlauf vorhanden
- When: der Nutzer die Bearbeitung speichert, aber die Verbindung ist unterbrochen
- Then: wird die Änderung nicht übernommen und es wird eine Fehlermeldung mit Wiederholungsoption angezeigt

---

## US-015: Nachricht weiterleiten

**Priority:** MUST
**Linked Requirement:** WA-MSG-005

### User Story

> As a **registrierter Nutzer**
> I want to **eine empfangene Nachricht an einen oder mehrere Kontakte weiterleiten**
> So that **damit Informationen schnell und sicher geteilt werden koennen und die Kommunikation effizient bleibt**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer befindet sich in einem geoeffneten Chat mit einer empfangenen Nachricht
- When: er die Funktion „Weiterleiten“ auswaehlt und einen oder mehrere Empfaenger bestimmt
- Then: wird die Nachricht an die ausgewaehlten Empfaenger weitergeleitet und im Chat als weitergeleitet gekennzeichnet

**AC-2:**
- Given: der Nutzer hat „Weiterleiten“ ausgewaehlt, aber keinen Empfaenger ausgewählt
- When: er den Versand bestaetigt
- Then: erhaelt er eine Hinweisnachricht, dass mindestens ein Empfaenger ausgewaehlt werden muss, und die Nachricht wird nicht gesendet

**AC-3:**
- Given: die Weiterleitung wird gestartet und es besteht eine Netzwerkstoerung
- When: das System die Nachricht nicht zustellen kann
- Then: wird der Nutzer ueber den Fehler informiert und kann die Weiterleitung erneut versuchen

---

## US-016: Nachricht zitieren

**Priority:** MUST
**Linked Requirement:** WA-MSG-006

### User Story

> As a **registrierter Nutzer**
> I want to **eine spezifische Nachricht in einem Chat zitieren und darauf antworten**
> So that **den Gesprächskontext klar nachvollziehbar zu halten und Missverständnisse zu vermeiden**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer befindet sich in einem bestehenden Chat mit mehreren Nachrichten
- When: der Nutzer wählt eine Nachricht aus und sendet eine Antwort
- Then: die Antwort wird mit einem sichtbaren Zitatverweis auf die ausgewählte Nachricht gesendet

**AC-2:**
- Given: die ausgewählte Nachricht ist sehr alt oder liegt außerhalb des aktuellen Sichtbereichs
- When: der Nutzer zitiert diese Nachricht
- Then: das System zeigt den Zitatausschnitt korrekt an und verlinkt zur Originalnachricht

**AC-3:**
- Given: die zitierte Nachricht wurde zwischenzeitlich gelöscht oder ist aufgrund von Berechtigungen nicht mehr verfügbar
- When: der Nutzer versucht, sie zu zitieren oder die Antwort zu senden
- Then: das System verhindert das Zitieren und zeigt eine verständliche Fehlermeldung an

---

## US-017: Reaktionen

**Priority:** MUST
**Linked Requirement:** WA-MSG-007

### User Story

> As a **Endnutzer**
> I want to **auf eine Nachricht mit einem Emoji reagieren**
> So that **um meine Antwort schnell und intuitiv auszudruecken und die Kommunikation zu vereinfachen**

### Acceptance Criteria

**AC-1:**
- Given: eine Nachricht ist in einem Chat sichtbar
- When: der Nutzer waehlt ein Emoji aus der Reaktionsauswahl aus
- Then: das Emoji wird an der Nachricht angezeigt und die Reaktion des Nutzers wird gespeichert

**AC-2:**
- Given: der Nutzer hat bereits auf eine Nachricht reagiert
- When: der Nutzer waehlt ein anderes Emoji fuer dieselbe Nachricht
- Then: die vorherige Reaktion wird ersetzt und nur das neue Emoji wird angezeigt

**AC-3:**
- Given: eine Nachricht ist geloescht oder der Nutzer hat keine Zugriffsrechte
- When: der Nutzer versucht zu reagieren
- Then: die Reaktion wird nicht gespeichert und der Nutzer erhaelt eine verständliche Fehlermeldung

---

## US-018: Verschwindende Nachrichten

**Priority:** MUST
**Linked Requirement:** WA-MSG-008

### User Story

> As a **registrierter Nutzer**
> I want to **selbstloeschende Nachrichten mit einer festgelegten Ablaufzeit senden**
> So that **private Kommunikation zu ermoeglichen und Datenschutz zu erhoehen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer erstellt eine Nachricht und waehlt eine gueltige Ablaufzeit
- When: die Nachricht gesendet wird
- Then: die Nachricht wird dem Empfaenger zugestellt und nach Ablaufzeit automatisch geloescht

**AC-2:**
- Given: der Nutzer waehlt eine Ablaufzeit ausserhalb der zulaessigen Grenzen
- When: er versucht die Nachricht zu senden
- Then: das System zeigt eine Fehlermeldung und verhindert das Senden

**AC-3:**
- Given: eine selbstloeschende Nachricht wurde gesendet
- When: der Empfaenger sie nach Ablaufzeit oeffnen moechte
- Then: die Nachricht ist nicht mehr verfügbar und wird als abgelaufen angezeigt

---

## US-019: Einmal-Ansicht Medien

**Priority:** MUST
**Linked Requirement:** WA-MSG-009

### User Story

> As a **privater Nutzer**
> I want to **View-Once-Medien in einem Chat einmalig ansehen**
> So that **damit sensible Inhalte nur einmal sichtbar sind und der Datenschutz gewahrt bleibt**

### Acceptance Criteria

**AC-1:**
- Given: ein View-Once-Medium wurde empfangen und ist noch ungesehen
- When: der Nutzer das Medium oeffnet
- Then: das Medium wird angezeigt und als gesehen markiert

**AC-2:**
- Given: ein View-Once-Medium wurde bereits angesehen
- When: der Nutzer versucht, das Medium erneut zu oeffnen
- Then: das System zeigt eine Meldung an, dass das Medium nicht mehr verfuegbar ist

**AC-3:**
- Given: die Wiedergabe des View-Once-Mediums wird unterbrochen
- When: die Verbindung bricht waehrend des Ansehens ab
- Then: das Medium wird als gesehen markiert und kann nicht erneut geladen werden

---

## US-020: Chat sperren

**Priority:** SHOULD
**Linked Requirement:** WA-MSG-010

### User Story

> As a **registrierter Nutzer**
> I want to **einen einzelnen Chat mit zusaetzlicher Authentifizierung sperren**
> So that **um Datenschutz und Sicherheit der Gespraeche zu erhoehen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und befindet sich in einem aktiven Chat
- When: er die Funktion "Chat sperren" auswaehlt und die zusaetzliche Authentifizierung erfolgreich bestaetigt
- Then: wird der Chat gesperrt und der Zugriff ist nur nach erneuter Authentifizierung moeglich

**AC-2:**
- Given: der Nutzer ist angemeldet und hat die zusaetzliche Authentifizierung aktiviert
- When: er versucht, einen gesperrten Chat ohne erfolgreiche Authentifizierung zu oeffnen
- Then: wird der Zugriff verweigert und es erscheint ein Hinweis zur erforderlichen Authentifizierung

**AC-3:**
- Given: der Nutzer startet den Sperrvorgang eines Chats
- When: die zusaetzliche Authentifizierung fehlschlaegt oder abgebrochen wird
- Then: bleibt der Chat ungesperrt und es wird eine Fehlermeldung angezeigt

---

## US-021: Broadcast-Listen

**Priority:** MUST
**Linked Requirement:** WA-MSG-011

### User Story

> As a **Kommunikations-Administrator**
> I want to **eine Broadcast-Liste erstellen und an mehrere Empfänger gleichzeitig eine Massen-Nachricht senden**
> So that **damit ich Kunden schnell, zuverlässig und plattformübergreifend informieren kann, ohne Datenschutz und Sicherheit zu gefährden**

### Acceptance Criteria

**AC-1:**
- Given: ich bin als Kommunikations-Administrator angemeldet und habe eine Liste mit gültigen Empfängern erstellt
- When: ich eine Massen-Nachricht an die Broadcast-Liste sende
- Then: wird die Nachricht an alle Empfänger der Liste zugestellt und der Versandstatus pro Empfänger angezeigt

**AC-2:**
- Given: eine Broadcast-Liste enthält Empfänger, die den Erhalt von Nachrichten abgelehnt haben
- When: ich eine Massen-Nachricht sende
- Then: werden nur die optierten Empfänger übersprungen und ich erhalte eine Zusammenfassung der nicht zugestellten Empfänger

**AC-3:**
- Given: ich versuche eine Massen-Nachricht ohne Empfänger oder mit leerer Broadcast-Liste zu senden
- When: ich den Versand auslöse
- Then: wird der Versand verhindert und eine klare Fehlermeldung angezeigt

---

## US-022: Formatierte Texte

**Priority:** MUST
**Linked Requirement:** WA-MSG-012

### User Story

> As a **Business-Nutzer**
> I want to **Nachrichten mit grundlegender Textformatierung verfassen und senden**
> So that **um professionell und klar mit Kunden zu kommunizieren**

### Acceptance Criteria

**AC-1:**
- Given: der Business-Nutzer erstellt eine neue Nachricht im Editor
- When: er Text mit unterstützten Formatierungen wie Fett, Kursiv oder Aufzählungen versieht und sendet
- Then: wird die Nachricht beim Empfänger mit der gewählten Formatierung korrekt angezeigt

**AC-2:**
- Given: der Business-Nutzer fügt eine Nachricht mit unvollständiger oder verschachtelter Formatierung ein
- When: die Nachricht gespeichert oder gesendet wird
- Then: bereinigt das System die Formatierung automatisch oder weist auf die fehlerhafte Syntax hin, ohne die Nachricht zu verlieren

**AC-3:**
- Given: der Business-Nutzer verwendet nicht unterstützte Formatierungszeichen
- When: die Nachricht gesendet wird
- Then: werden nicht unterstützte Formatierungen ignoriert oder als Klartext dargestellt und die Nachricht wird dennoch zugestellt

---

## US-023: Erwaehnung (@mention)

**Priority:** MUST
**Linked Requirement:** WA-MSG-013

### User Story

> As a **registrierter Nutzer**
> I want to **andere Teilnehmer in einem Gruppenchats per @-Erwaehnung adressieren**
> So that **um die Aufmerksamkeit gezielt zu steuern und eine schnelle, zuverlaessige Kommunikation im Chat zu erreichen**

### Acceptance Criteria

**AC-1:**
- Given: ein Gruppenchat mit mehreren Teilnehmern ist geoeffnet
- When: der Nutzer tippt '@' und waehlt einen Teilnehmer aus der vorgeschlagenen Liste aus
- Then: die Nachricht enthaelt die @-Erwaehnung und der erwaehnte Teilnehmer erhaelt eine Benachrichtigung

**AC-2:**
- Given: ein Gruppenchat ist geoeffnet
- When: der Nutzer gibt eine @-Erwaehnung mit einem nicht vorhandenen Benutzernamen ein
- Then: die Erwaehnung wird nicht aufgeloest und das System zeigt einen Hinweis zur Auswahl eines gueltigen Teilnehmers

**AC-3:**
- Given: ein Gruppenchat ist geoeffnet
- When: der Nutzer versucht, eine Person zu erwaehnen, die nicht Mitglied des Gruppenchats ist
- Then: die Erwaehnung wird blockiert und es erfolgt keine Benachrichtigung

---

## US-024: Standort teilen

**Priority:** MUST
**Linked Requirement:** WA-MSG-014

### User Story

> As a **Endnutzer**
> I want to **einen Standort in einer Unterhaltung teilen**
> So that **damit der Empfaenger den Standort schnell finden kann und die Kommunikation effizienter wird**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer befindet sich in einer aktiven Unterhaltung und hat Standortfreigabe zugelassen
- When: der Nutzer einen Standort auswaehlt und sendet
- Then: wird der Standort als Nachricht mit Kartenvorschau an den Empfaenger zugestellt

**AC-2:**
- Given: der Nutzer hat keine Standortberechtigung erteilt
- When: der Nutzer versucht, einen Standort zu teilen
- Then: fordert das System zur Erteilung der Berechtigung auf und sendet keinen Standort

**AC-3:**
- Given: keine Netzwerkverbindung ist verfuegbar
- When: der Nutzer einen Standort senden moechte
- Then: erhaelt der Nutzer eine Fehlermeldung und die Nachricht wird nicht als gesendet markiert

---

## US-025: Kontakt teilen

**Priority:** MUST
**Linked Requirement:** WA-MSG-015

### User Story

> As a **Endnutzer**
> I want to **einen Kontakt aus meiner Kontaktliste in einem Chat teilen**
> So that **damit der Empfaenger die Kontaktdaten schnell und sicher erhalten und weiterverwenden kann**

### Acceptance Criteria

**AC-1:**
- Given: ich befinde mich in einem bestehenden Chat und habe Zugriff auf meine Kontaktliste
- When: ich waehle einen Kontakt aus und bestaetige das Teilen
- Then: der Kontakt wird als strukturierte Kontaktkarte im Chat gesendet und ist fuer den Empfaenger sichtbar

**AC-2:**
- Given: ich versuche einen Kontakt zu teilen, fuer den keine Telefonnummer oder zentrale Kontaktdaten vorhanden sind
- When: ich den Versand bestaetige
- Then: das System verhindert das Senden und zeigt eine aussagekraeftige Meldung an

**AC-3:**
- Given: meine Netzwerkverbindung ist instabil oder unterbrochen
- When: ich einen Kontakt teile
- Then: das System informiert ueber den fehlgeschlagenen Versand und bietet eine erneute Uebertragung an

---

## US-026: Gruppe erstellen

**Priority:** MUST
**Linked Requirement:** WA-GRP-001

### User Story

> As a **Registrierter Nutzer**
> I want to **einen neuen Gruppenchat erstellen**
> So that **mit mehreren Kontakten effizient und sicher kommunizieren zu können**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und befindet sich in der Chat-Übersicht
- When: er einen Gruppennamen eingibt, mindestens zwei Kontakte auswählt und die Erstellung bestätigt
- Then: wird der Gruppenchat erstellt und in der Chat-Übersicht angezeigt

**AC-2:**
- Given: der Nutzer ist im Erstellungsdialog für einen Gruppenchat
- When: er versucht, einen Gruppennamen ohne mindestens zwei Kontakte zu bestätigen
- Then: wird die Erstellung verhindert und eine verständliche Hinweisnachricht angezeigt

**AC-3:**
- Given: der Nutzer ist im Erstellungsdialog für einen Gruppenchat
- When: die Erstellung aufgrund eines Systemfehlers fehlschlägt
- Then: erhält der Nutzer eine Fehlermeldung und es wird kein Gruppenchat angelegt

---

## US-027: Gruppenadministration

**Priority:** MUST
**Linked Requirement:** WA-GRP-002

### User Story

> As a **Support-Administrator**
> I want to **Gruppen verwalten und Mitgliederrechte zentral konfigurieren**
> So that **um sichere und regelkonforme Kommunikation zu gewährleisten und Missbrauch effizient zu verhindern**

### Acceptance Criteria

**AC-1:**
- Given: eine bestehende Gruppe mit Mitgliedern und der Administrator ist angemeldet
- When: er Rollen und Berechtigungen für mehrere Mitglieder aktualisiert
- Then: werden die Änderungen sofort gespeichert und in der Gruppenansicht korrekt angezeigt

**AC-2:**
- Given: eine Gruppe mit aktivierter Moderation
- When: ein Mitglied eine Nachricht sendet, die gegen Moderationsregeln verstößt
- Then: wird die Nachricht blockiert und der Administrator erhält eine Benachrichtigung

**AC-3:**
- Given: eine Gruppe mit vielen Mitgliedern
- When: der Administrator die Mitgliederliste filtert und nach Kriterien sucht
- Then: werden die Ergebnisse performant und vollständig angezeigt

**AC-4:**
- Given: der Administrator versucht eine Gruppe zu löschen, die noch aktive Abhängigkeiten hat
- When: er die Löschung bestätigt
- Then: erhält er eine verständliche Fehlermeldung und die Gruppe bleibt unverändert

---

## US-028: Gruppeneinstellungen

**Priority:** MUST
**Linked Requirement:** WA-GRP-003

### User Story

> As a **Gruppenadministrator**
> I want to **konfigurierbare Gruppeneinstellungen anlegen und anpassen**
> So that **damit die Gruppenkommunikation sicher, effizient und nutzungsfreundlich gesteuert wird**

### Acceptance Criteria

**AC-1:**
- Given: der Gruppenadministrator ist angemeldet und hat Zugriff auf eine bestehende Gruppe
- When: er die Gruppeneinstellungen öffnet und Änderungen speichert
- Then: werden die neuen Einstellungen sofort wirksam und allen Gruppenmitgliedern korrekt angewendet

**AC-2:**
- Given: der Gruppenadministrator versucht, eine ungültige Einstellungskombination zu speichern
- When: er die Änderungen speichert
- Then: wird eine verständliche Fehlermeldung angezeigt und keine Änderung übernommen

**AC-3:**
- Given: ein Nutzer ohne Administrationsrechte ist Mitglied der Gruppe
- When: er versucht, Gruppeneinstellungen zu ändern
- Then: wird der Zugriff verweigert und die Einstellungen bleiben unverändert

---

## US-029: Einladungslink

**Priority:** MUST
**Linked Requirement:** WA-GRP-004

### User Story

> As a **Gruppenadministrator**
> I want to **einen Einladungslink für eine Gruppe erstellen und teilen**
> So that **damit neue Mitglieder einfach beitreten können und die Einladung plattformübergreifend funktioniert**

### Acceptance Criteria

**AC-1:**
- Given: der Gruppenadministrator ist angemeldet und hat Berechtigung Einladungen zu erstellen
- When: er einen Einladungslink für die Gruppe generiert
- Then: wird ein eindeutiger, gültiger Link angezeigt und kann kopiert oder geteilt werden

**AC-2:**
- Given: ein gültiger Einladungslink wurde geteilt
- When: ein nicht angemeldeter Nutzer den Link öffnet
- Then: wird er zur Anmeldung/Registrierung geführt und nach erfolgreicher Anmeldung der Gruppe beitreten

**AC-3:**
- Given: der Einladungslink ist abgelaufen oder wurde deaktiviert
- When: ein Nutzer den Link öffnet
- Then: wird eine verständliche Fehlermeldung angezeigt und kein Beitritt erfolgt

---

## US-030: Gruppe verlassen

**Priority:** MUST
**Linked Requirement:** WA-GRP-005

### User Story

> As a **registrierter Nutzer**
> I want to **eine Gruppe verlassen, ohne eine Benachrichtigung an andere Mitglieder auszulösen**
> So that **um die Privatsphäre zu wahren und die Bedienung schnell und unkompliziert zu halten**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist Mitglied einer Gruppe und hat die Gruppenansicht geöffnet
- When: der Nutzer die Aktion „Gruppe verlassen“ bestätigt
- Then: wird der Nutzer aus der Gruppe entfernt und es wird keine Benachrichtigung an andere Gruppenmitglieder gesendet

**AC-2:**
- Given: der Nutzer ist kein Mitglied der Gruppe
- When: der Nutzer versucht, die Gruppe zu verlassen
- Then: zeigt das System eine verständliche Meldung an und nimmt keine Änderungen vor

**AC-3:**
- Given: eine Unterbrechung der Netzwerkverbindung während des Verlassens
- When: die Anfrage nicht erfolgreich abgeschlossen werden kann
- Then: bleibt die Mitgliedschaft unverändert und der Nutzer erhält eine Fehlermeldung mit der Option, es erneut zu versuchen

---

## US-031: Community

**Priority:** MUST
**Linked Requirement:** WA-GRP-006

### User Story

> As a **Community-Administrator**
> I want to **eine Community mit mehreren Gruppen erstellen und verwalten**
> So that **um die Kommunikation thematisch zu strukturieren und eine uebersichtliche Verwaltung zu ermoeglichen**

### Acceptance Criteria

**AC-1:**
- Given: der Administrator hat die Berechtigung zur Community-Verwaltung
- When: er eine neue Community anlegt und mindestens zwei Gruppen hinzufuegt
- Then: wird die Community gespeichert und alle hinzugefuegten Gruppen sind der Community zugeordnet

**AC-2:**
- Given: eine bestehende Community mit mehreren Gruppen
- When: der Administrator eine weitere Gruppe hinzufuegt oder eine bestehende Gruppe entfernt
- Then: werden die Aenderungen sofort in der Community-Struktur angezeigt und gespeichert

**AC-3:**
- Given: der Administrator versucht eine Gruppe einer Community hinzuzufuegen, fuer die er keine Berechtigung hat
- When: er den Zuordnungsvorgang ausfuehrt
- Then: wird die Zuordnung verweigert und eine klare Fehlermeldung angezeigt

---

## US-032: Kanaele

**Priority:** SHOULD
**Linked Requirement:** WA-GRP-007

### User Story

> As a **Business-Kunde**
> I want to **einen One-Way-Broadcast-Kanal erstellen und Nachrichten an Abonnenten senden**
> So that **um Informationen effizient, datenschutzkonform und ohne Antwortflut zuverlässig zu verteilen**

### Acceptance Criteria

**AC-1:**
- Given: der Business-Kunde ist authentifiziert und verfügt über Berechtigungen zur Kanalverwaltung
- When: er einen One-Way-Broadcast-Kanal erstellt und eine Nachricht veröffentlicht
- Then: die Nachricht wird allen Abonnenten zugestellt und Empfänger können nicht antworten

**AC-2:**
- Given: ein One-Way-Broadcast-Kanal existiert
- When: ein Empfänger versucht, auf eine Broadcast-Nachricht zu antworten
- Then: das System blockiert die Antwort und zeigt einen Hinweis an, dass Antworten nicht erlaubt sind

**AC-3:**
- Given: ein One-Way-Broadcast-Kanal existiert
- When: eine Nachricht mit unvollständigen Pflichtfeldern (z. B. leerem Inhalt) gesendet werden soll
- Then: das System verhindert das Senden und gibt eine verständliche Fehlermeldung aus

---

## US-033: Umfragen

**Priority:** SHOULD
**Linked Requirement:** WA-GRP-008

### User Story

> As a **registrierter Nutzer**
> I want to **eine Umfrage in einem Gruppen- oder Einzelchat erstellen und teilen**
> So that **schnell Meinungen einholen zu koennen und Entscheidungen effizient zu treffen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer befindet sich in einem Gruppen- oder Einzelchat
- When: er eine Umfrage mit Frage und mindestens zwei Antwortoptionen erstellt und sendet
- Then: wird die Umfrage im Chat angezeigt und andere Teilnehmer koennen abstimmen

**AC-2:**
- Given: der Nutzer befindet sich in einem Chat
- When: er versucht eine Umfrage ohne Frage oder mit weniger als zwei Antwortoptionen zu senden
- Then: wird das Senden blockiert und eine verständliche Fehlermeldung angezeigt

**AC-3:**
- Given: eine Umfrage wurde im Chat geteilt
- When: ein Teilnehmer abstimmt
- Then: wird die Stimme gespeichert und die aktuellen Ergebnisse werden aktualisiert angezeigt

---

## US-034: Events planen

**Priority:** SHOULD
**Linked Requirement:** WA-GRP-009

### User Story

> As a **Gruppenadministrator**
> I want to **ein Gruppen-Event mit Datum, Uhrzeit und Ort erstellen und an Gruppenmitglieder ankündigen**
> So that **damit die Gruppe Termine koordiniert und die Teilnahme verlässlich organisiert werden kann**

### Acceptance Criteria

**AC-1:**
- Given: ich bin als Gruppenadministrator eingeloggt und befinde mich in einer Gruppe
- When: ich ein Event mit gültigem Titel, Datum, Uhrzeit und optionalem Ort speichere
- Then: das Event wird in der Gruppenansicht angezeigt und eine Benachrichtigung wird an alle Gruppenmitglieder gesendet

**AC-2:**
- Given: ich erstelle ein Event
- When: ich lasse ein Pflichtfeld wie Titel oder Datum leer
- Then: das System verhindert das Speichern und zeigt eine verständliche Validierungsfehlermeldung an

**AC-3:**
- Given: ein Event wurde erstellt
- When: ein Gruppenmitglied auf das Event zugreift
- Then: es sieht die Details und kann seine Teilnahme zusagen oder absagen

---

## US-035: Sprachanruf

**Priority:** MUST
**Linked Requirement:** WA-CALL-001

### User Story

> As a **Endnutzer**
> I want to **einen verschlüsselten Sprachanruf starten**
> So that **vertrauliche und sichere Kommunikation über verschiedene Plattformen hinweg zu gewährleisten**

### Acceptance Criteria

**AC-1:**
- Given: der Endnutzer ist angemeldet und beide Gesprächspartner sind online
- When: der Endnutzer einen Sprachanruf initiiert
- Then: wird der Anruf aufgebaut und die Audioübertragung ist Ende-zu-Ende verschlüsselt

**AC-2:**
- Given: der Endnutzer ist angemeldet und der Empfänger hat die App geschlossen
- When: der Endnutzer einen Sprachanruf initiiert
- Then: erhält der Empfänger eine Benachrichtigung und kann den verschlüsselten Anruf annehmen

**AC-3:**
- Given: eine Netzwerkstörung tritt während des Anrufaufbaus auf
- When: der Endnutzer einen Sprachanruf startet
- Then: wird eine verständliche Fehlermeldung angezeigt und der Anruf wird nicht unverschlüsselt aufgebaut

---

## US-036: Videoanruf

**Priority:** MUST
**Linked Requirement:** WA-CALL-002

### User Story

> As a **Endnutzer**
> I want to **einen verschluesselten Videoanruf starten und fuehren**
> So that **um vertraulich und sicher in Echtzeit kommunizieren zu koennen**

### Acceptance Criteria

**AC-1:**
- Given: der Endnutzer und der Gegenueber sind online und haben die App geoeffnet
- When: der Endnutzer einen Videoanruf initiiert und der Gegenueber annimmt
- Then: wird eine Ende-zu-Ende-verschluesselte Videoverbindung hergestellt und Audio/Video ist fuer beide Seiten verfuegbar

**AC-2:**
- Given: der Endnutzer initiiert einen Videoanruf und die Gegenseite nimmt nicht an
- When: die definierte Timeout-Dauer erreicht ist
- Then: erhaelt der Endnutzer eine Benachrichtigung, dass der Anruf nicht angenommen wurde, und die Verbindung wird beendet

**AC-3:**
- Given: der Endnutzer startet einen Videoanruf bei instabiler Netzwerkverbindung
- When: die Verschluesselung nicht aufgebaut werden kann
- Then: wird der Anruf abgebrochen und eine Fehlermeldung zur fehlgeschlagenen sicheren Verbindung angezeigt

---

## US-037: Gruppenanruf

**Priority:** MUST
**Linked Requirement:** WA-CALL-003

### User Story

> As a **registrierter Nutzer**
> I want to **einen Gruppen-Sprach- oder Videoanruf starten und Teilnehmende einladen**
> So that **um effizient und in Echtzeit mit mehreren Personen plattformuebergreifend zu kommunizieren**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und hat eine stabile Internetverbindung
- When: er einen Gruppenanruf mit mehreren Kontakten startet
- Then: der Anruf wird aufgebaut und alle eingeladenen Teilnehmenden erhalten eine Einladung auf ihren Plattformen

**AC-2:**
- Given: ein Teilnehmender nimmt die Einladung an
- When: er dem Gruppenanruf beitritt
- Then: sein Audio/Video ist fuer die anderen Teilnehmenden verfuegbar und die Verbindung bleibt stabil

**AC-3:**
- Given: mindestens ein eingeladener Kontakt ist offline oder nicht erreichbar
- When: der Gruppenanruf gestartet wird
- Then: der Anruf wird dennoch fuer die erreichbaren Teilnehmenden aufgebaut und unerreichbare Kontakte werden als nicht verfuegbar gekennzeichnet

**AC-4:**
- Given: der Nutzer hat keine Berechtigung oder es liegt ein Verbindungsfehler vor
- When: er versucht, einen Gruppenanruf zu starten
- Then: das System zeigt eine verständliche Fehlermeldung und der Anruf wird nicht gestartet

---

## US-038: Bildschirmfreigabe

**Priority:** SHOULD
**Linked Requirement:** WA-CALL-004

### User Story

> As a **registrierter Nutzer**
> I want to **waehrend eines laufenden Anrufs seinen Bildschirm freigeben**
> So that **Inhalte schnell und sicher teilen zu koennen, um die Kommunikation zu vereinfachen und Entscheidungen zu beschleunigen**

### Acceptance Criteria

**AC-1:**
- Given: ein laufender Anruf zwischen zwei registrierten Nutzern
- When: der Nutzer die Option „Bildschirm freigeben“ aktiviert und eine Quelle auswaehlt
- Then: der ausgewaehlte Bildschirm wird dem Gegenueber ohne spuerbare Verzoegerung angezeigt

**AC-2:**
- Given: ein laufender Anruf und eine aktive Bildschirmfreigabe
- When: der Nutzer die Freigabe beendet
- Then: die Bildschirmfreigabe stoppt sofort und der Anruf laeuft weiter

**AC-3:**
- Given: ein laufender Anruf
- When: die Bildschirmfreigabe wegen fehlender Berechtigung oder Systemeinschraenkung nicht gestartet werden kann
- Then: das System zeigt eine klare Fehlermeldung an und bietet eine sichere alternative Aktion an

---

## US-039: Anruflink

**Priority:** SHOULD
**Linked Requirement:** WA-CALL-005

### User Story

> As a **Business-Nutzer**
> I want to **einen Anruflink fuer einen geplanten Anruf erstellen und teilen**
> So that **damit Kunden den Anruf einfach und sicher zum geplanten Zeitpunkt erreichen koennen**

### Acceptance Criteria

**AC-1:**
- Given: ein geplanter Anruf mit gueltigen Zeit- und Teilnehmerdaten existiert
- When: der Nutzer den Anruflink erstellt
- Then: wird ein eindeutiger, teilbarer Anruflink generiert und angezeigt

**AC-2:**
- Given: ein Anruflink wurde generiert
- When: der Nutzer den Link oeffnet oder an einen Kunden sendet
- Then: ist der Link plattformuebergreifend nutzbar und fuehrt zur Anrufbereitstellung

**AC-3:**
- Given: ein geplanter Anruf wurde geloescht oder ist abgelaufen
- When: der Nutzer versucht einen Anruflink zu erstellen oder zu verwenden
- Then: zeigt das System eine Fehlermeldung an und erstellt keinen Link

---

## US-040: Anruf ablehnen mit Nachricht

**Priority:** MUST
**Linked Requirement:** WA-CALL-006

### User Story

> As a **Endnutzer**
> I want to **einen eingehenden Anruf ablehnen und eine vordefinierte Schnellantwort senden**
> So that **ich kann den Anrufer schnell informieren und professionell kommunizieren, ohne den Anruf anzunehmen**

### Acceptance Criteria

**AC-1:**
- Given: ein eingehender Anruf wird angezeigt und Schnellantworten sind konfiguriert
- When: ich wähle eine Schnellantwort und lehne den Anruf ab
- Then: der Anruf wird abgelehnt und die ausgewählte Nachricht wird sofort an den Anrufer gesendet

**AC-2:**
- Given: ein eingehender Anruf wird angezeigt
- When: ich lehne den Anruf ab, ohne eine Schnellantwort auszuwählen
- Then: der Anruf wird abgelehnt und es wird keine Nachricht gesendet

**AC-3:**
- Given: ein eingehender Anruf wird angezeigt und die Nachrichtenübermittlung ist nicht verfügbar
- When: ich wähle eine Schnellantwort und lehne den Anruf ab
- Then: der Anruf wird abgelehnt und das System zeigt eine Fehlermeldung zur nicht zustellbaren Nachricht an

---

## US-041: Anrufverlauf

**Priority:** MUST
**Linked Requirement:** WA-CALL-007

### User Story

> As a **Endnutzer**
> I want to **den Anrufverlauf einsehen und nach Datum filtern**
> So that **um vergangene Anrufe schnell nachzuvollziehen und Kommunikationsverlaesse sicher zu dokumentieren**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und es existieren gespeicherte Anrufe
- When: der Nutzer den Anrufverlauf oeffnet
- Then: zeigt das System eine chronologische Liste mit Anrufdatum, -uhrzeit, Richtung und Teilnehmer

**AC-2:**
- Given: der Nutzer hat einen Datumsfilter gesetzt
- When: der Nutzer den Filter anwendet
- Then: zeigt das System nur Anrufe innerhalb des ausgewaehlten Zeitraums

**AC-3:**
- Given: es existieren keine Anrufe fuer den ausgewaehlten Zeitraum
- When: der Nutzer den Anrufverlauf oeffnet
- Then: zeigt das System eine leere Liste mit einem Hinweis, dass keine Anrufe vorhanden sind

---

## US-042: Status erstellen

**Priority:** MUST
**Linked Requirement:** WA-STS-001

### User Story

> As a **registrierter Nutzer**
> I want to **einen 24-Stunden-Status-Update erstellen und veröffentlichen**
> So that **damit ich zeitlich begrenzte Informationen schnell und plattformuebergreifend teilen kann**

### Acceptance Criteria

**AC-1:**
- Given: ich bin angemeldet und habe eine stabile Internetverbindung
- When: ich erstelle einen Status mit Medien oder Text und tippe auf „Veroeffentlichen“
- Then: der Status wird gespeichert, angezeigt und ist fuer 24 Stunden sichtbar

**AC-2:**
- Given: ich habe keine Inhalte hinzugefuegt
- When: ich versuche, den Status zu veroeffentlichen
- Then: das System zeigt eine Validierungsnachricht an und verhindert die Veroeffentlichung

**AC-3:**
- Given: die Verbindung wird beim Speichern unterbrochen
- When: ich veroeffentliche den Status
- Then: das System informiert mich ueber den Fehler und bietet das erneute Speichern an

---

## US-043: Status anzeigen

**Priority:** MUST
**Linked Requirement:** WA-STS-002

### User Story

> As a **registrierter Nutzer**
> I want to **den Kontakt-Status in der Kontaktliste und im Chat anzeigen**
> So that **um Verfügbarkeit schnell zu erkennen und die Kommunikation effizient zu planen**

### Acceptance Criteria

**AC-1:**
- Given: ein registrierter Nutzer ist eingeloggt und hat Kontakte mit freigegebenem Status
- When: der Nutzer die Kontaktliste oder einen Chat öffnet
- Then: wird der aktuelle Kontakt-Status korrekt und in Echtzeit angezeigt

**AC-2:**
- Given: ein Kontakt hat die Statusanzeige deaktiviert oder der Nutzer hat keine Berechtigung
- When: der Nutzer die Kontaktliste oder den Chat öffnet
- Then: wird kein Status angezeigt und stattdessen ein neutraler Hinweis ausgegeben

**AC-3:**
- Given: eine Netzwerkstörung verhindert den Statusabruf
- When: der Nutzer die Kontaktliste oder den Chat öffnet
- Then: wird ein Lade- bzw. Fehlerhinweis angezeigt und der Rest der Ansicht bleibt nutzbar

---

## US-044: Status-Antwort

**Priority:** MUST
**Linked Requirement:** WA-STS-003

### User Story

> As a **Chat-Nutzer**
> I want to **auf einen Status mit einer Antwort reagieren**
> So that **um schnell und zuverlässig Rückmeldungen zu geben und die Kommunikation effizient zu halten**

### Acceptance Criteria

**AC-1:**
- Given: ein veröffentlichter Status ist sichtbar
- When: der Nutzer eine Antwort eingibt und sendet
- Then: die Antwort wird dem Status zugeordnet gespeichert und dem Absender zugestellt

**AC-2:**
- Given: der Status ist abgelaufen oder nicht mehr verfügbar
- When: der Nutzer versucht zu antworten
- Then: das System verhindert die Antwort und zeigt eine verständliche Meldung an

**AC-3:**
- Given: eine Netzwerkinstabilität tritt beim Senden auf
- When: der Nutzer die Antwort abschickt
- Then: das System zeigt einen Fehler an und ermöglicht einen erneuten Sendeversuch ohne Datenverlust

---

## US-045: Status-Datenschutz

**Priority:** MUST
**Linked Requirement:** WA-STS-004

### User Story

> As a **Endnutzer**
> I want to **die Sichtbarkeit meines Status für bestimmte Kontakte oder Gruppen konfigurieren**
> So that **ich meine Privatsphäre wahren und Kontrolle über meine Statusinformationen behalten kann**

### Acceptance Criteria

**AC-1:**
- Given: ich bin angemeldet und befinde mich in den Status-Datenschutzeinstellungen
- When: ich wähle eine Sichtbarkeitsoption und speichere die Einstellung
- Then: wird die Status-Sichtbarkeit gemäß meiner Auswahl angewendet

**AC-2:**
- Given: ich habe bestimmte Kontakte ausgeschlossen
- When: ein ausgeschlossener Kontakt meinen Status aufruft
- Then: ist mein Status für diesen Kontakt nicht sichtbar

**AC-3:**
- Given: es besteht eine temporäre Netzwerkunterbrechung
- When: ich versuche die Status-Sichtbarkeit zu speichern
- Then: erhalte ich eine verständliche Fehlermeldung und die bisherige Einstellung bleibt unverändert

---

## US-046: Status stumm schalten

**Priority:** SHOULD
**Linked Requirement:** WA-STS-005

### User Story

> As a **registrierter Nutzer**
> I want to **den Status eines Kontakts stummschalten**
> So that **benachrichtigungsfreie Nutzung bei gleichzeitiger Wahrung von Datenschutz und einer ruhigen Bedienung**

### Acceptance Criteria

**AC-1:**
- Given: ein Kontakt ist in der Kontaktliste vorhanden und Statusbenachrichtigungen sind aktiv
- When: der Nutzer die Option „Status stummschalten“ für diesen Kontakt aktiviert
- Then: werden keine Statusbenachrichtigungen dieses Kontakts mehr angezeigt

**AC-2:**
- Given: ein Kontakt ist stummgeschaltet
- When: der Nutzer die Stummschaltung wieder deaktiviert
- Then: werden Statusbenachrichtigungen dieses Kontakts wieder angezeigt

**AC-3:**
- Given: der Nutzer versucht einen Kontakt zu stummschalten, der nicht mehr existiert oder nicht erreichbar ist
- When: die Aktion ausgeführt wird
- Then: zeigt das System eine verständliche Fehlermeldung an und nimmt keine Änderung vor

---

## US-047: Bilder senden

**Priority:** MUST
**Linked Requirement:** WA-MED-001

### User Story

> As a **Endnutzer**
> I want to **ein Bild in einem Chat senden**
> So that **damit ich Informationen visuell schnell und zuverlässig teilen kann**

### Acceptance Criteria

**AC-1:**
- Given: ich habe eine aktive Unterhaltung geöffnet und eine stabile Internetverbindung
- When: ich ein unterstütztes Bild auswähle und auf Senden tippe
- Then: wird das Bild übertragen und in der Unterhaltung beim Empfänger angezeigt

**AC-2:**
- Given: ich wähle eine Datei aus, die kein unterstütztes Bildformat hat
- When: ich versuche, die Datei zu senden
- Then: wird der Versand blockiert und ich erhalte eine verständliche Fehlermeldung

**AC-3:**
- Given: ich habe eine schwache oder unterbrochene Verbindung
- When: ich versuche, ein Bild zu senden
- Then: wird mir ein Fehler angezeigt und ich kann den Versand erneut versuchen, ohne dass die App abstürzt

---

## US-048: Videos senden

**Priority:** MUST
**Linked Requirement:** WA-MED-002

### User Story

> As a **Endnutzer**
> I want to **ein Video in einer Nachricht senden**
> So that **um Inhalte anschaulich zu teilen und die Kommunikation effizienter zu gestalten**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und befindet sich in einem Chat
- When: der Nutzer wählt ein unterstütztes Videoformat aus und sendet es
- Then: das Video wird erfolgreich hochgeladen und an den Empfänger zugestellt

**AC-2:**
- Given: der Nutzer versucht, ein Video zu senden, das die maximale Dateigröße überschreitet
- When: der Nutzer den Versand startet
- Then: das System blockiert den Versand und zeigt eine verständliche Fehlermeldung mit zulässigen Limits an

**AC-3:**
- Given: die Netzwerkverbindung ist instabil oder der Upload wird unterbrochen
- When: der Nutzer das Video sendet
- Then: das System informiert über den fehlgeschlagenen Versand und bietet eine erneute Übertragung an

---

## US-049: Dokumente senden

**Priority:** MUST
**Linked Requirement:** WA-MED-003

### User Story

> As a **registrierter Nutzer**
> I want to **beliebige Dokumente an einen Empfaenger senden**
> So that **damit ich Informationen professionell und sicher teilen und die Kommunikation beschleunigen kann**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und hat einen Empfaenger ausgewaehlt
- When: er ein Dokument auswaehlt und den Versand ausloest
- Then: wird das Dokument erfolgreich gesendet und als zugestellt angezeigt

**AC-2:**
- Given: der Nutzer ist angemeldet und hat einen Empfaenger ausgewaehlt
- When: er ein sehr grosses Dokument sendet, das innerhalb der definierten Systemgrenzen liegt
- Then: wird der Versand ohne spuerbare Verzoegerung abgeschlossen

**AC-3:**
- Given: der Nutzer ist angemeldet
- When: er versucht, ein Dokument zu senden, das die Systemgrenzen ueberschreitet
- Then: erhaelt er eine klare Fehlermeldung mit Hinweis auf die Ursache und moegliche Loesung

---

## US-050: Bildbearbeitung

**Priority:** MUST
**Linked Requirement:** WA-MED-004

### User Story

> As a **Endnutzer**
> I want to **vor dem Senden eines Bildes grundlegende Bearbeitungen wie Zuschneiden, Drehen oder Markieren durchführen**
> So that **Bilder schnell und intuitiv anpassen zu können, um Inhalte klar zu kommunizieren und die Nachrichtenzustellung effizient abzuschließen**

### Acceptance Criteria

**AC-1:**
- Given: ein Nutzer hat ein Bild zum Versand ausgewählt
- When: er eine Bearbeitung (z. B. Zuschneiden oder Drehen) durchführt und das Bild sendet
- Then: wird das bearbeitete Bild gesendet und die Änderungen sind im gesendeten Bild sichtbar

**AC-2:**
- Given: ein Nutzer hat ein Bild zum Versand ausgewählt
- When: er keine Bearbeitung vornimmt und das Bild sendet
- Then: wird das Originalbild unverändert gesendet

**AC-3:**
- Given: ein Nutzer hat ein Bild zum Versand ausgewählt
- When: er eine nicht unterstützte Bearbeitung versucht oder ein ungültiges Bildformat verwendet
- Then: erhält er eine verständliche Fehlermeldung und kann den Versand nicht abschließen, bis ein gültiges Bild vorliegt

---

## US-051: Sticker

**Priority:** MUST
**Linked Requirement:** WA-MED-005

### User Story

> As a **registrierter Nutzer**
> I want to **Sticker in einem Chat senden**
> So that **ich kann mich schneller und ausdrucksstärker verständigen**

### Acceptance Criteria

**AC-1:**
- Given: ein geöffneter Chat mit stabiler Verbindung
- When: ich einen Sticker auswähle und sende
- Then: der Sticker wird im Chatverlauf korrekt angezeigt und an den Empfänger zugestellt

**AC-2:**
- Given: ich befinde mich im Chat und die Sticker-Galerie ist geöffnet
- When: ich einen Sticker auswähle, der für mein Gerät nicht unterstützt wird
- Then: das System zeigt eine verständliche Fehlermeldung und verhindert das Senden

**AC-3:**
- Given: die Internetverbindung ist unterbrochen
- When: ich versuche einen Sticker zu senden
- Then: der Sticker wird als nicht gesendet markiert und nach Wiederherstellung der Verbindung automatisch erneut versendet

---

## US-052: GIFs

**Priority:** MUST
**Linked Requirement:** WA-MED-006

### User Story

> As a **Endnutzer**
> I want to **GIFs suchen und in einer Nachricht versenden**
> So that **um die Kommunikation schnell, intuitiv und plattformübergreifend mit passenden Animationen zu bereichern**

### Acceptance Criteria

**AC-1:**
- Given: der Endnutzer befindet sich im Nachrichten-Editor und hat Netzwerkverbindung
- When: er eine Suchanfrage eingibt und ein GIF auswählt
- Then: wird das GIF in die Nachricht eingefügt und beim Senden zuverlässig zugestellt

**AC-2:**
- Given: der Endnutzer befindet sich im GIF-Suchdialog
- When: die Suche keine Treffer liefert
- Then: wird eine klare Meldung angezeigt und es werden keine GIFs versendet

**AC-3:**
- Given: der Endnutzer versucht ein GIF zu senden
- When: der GIF-Dienst nicht erreichbar ist
- Then: wird eine Fehlermeldung angezeigt und der Nutzer kann erneut versuchen oder die Nachricht ohne GIF senden

---

## US-053: Kamera-Integration

**Priority:** MUST
**Linked Requirement:** WA-MED-007

### User Story

> As a **Endnutzer im Chat**
> I want to **direkt im Chat die Gerätekamera öffnen und ein Foto aufnehmen**
> So that **um schnell visuelle Informationen teilen zu können, ohne die App zu verlassen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer befindet sich in einem aktiven Chat und die Kamera-Berechtigung ist erteilt
- When: der Nutzer die Kamera-Funktion im Chat auswählt und ein Foto aufnimmt
- Then: wird das Foto als Nachrichtenvorschau angezeigt und kann erfolgreich gesendet werden

**AC-2:**
- Given: der Nutzer befindet sich in einem aktiven Chat und die Kamera-Berechtigung ist nicht erteilt
- When: der Nutzer die Kamera-Funktion im Chat auswählt
- Then: wird eine Berechtigungsanfrage angezeigt und ohne Zustimmung kein Kamerazugriff ermöglicht

**AC-3:**
- Given: der Nutzer öffnet die Kamera im Chat
- When: die Kamera-Hardware nicht verfügbar ist oder ein Fehler auftritt
- Then: wird eine verständliche Fehlermeldung angezeigt und der Nutzer bleibt im Chat

---

## US-054: Audio-Dateien

**Priority:** MUST
**Linked Requirement:** WA-MED-008

### User Story

> As a **Endnutzer**
> I want to **eine Audio-Datei in einem Chat senden**
> So that **damit Informationen schnell und intuitiv übermittelt werden können und die Kommunikation zuverlässig bleibt**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer befindet sich in einem aktiven Chat und ist eingeloggt
- When: er eine unterstützte Audio-Datei hochlädt und sendet
- Then: die Audio-Datei wird erfolgreich übertragen und im Chat für beide Parteien abspielbar angezeigt

**AC-2:**
- Given: der Nutzer befindet sich in einem aktiven Chat
- When: er eine nicht unterstützte oder beschädigte Audio-Datei auswählt
- Then: das System lehnt den Versand ab und zeigt eine verständliche Fehlermeldung an

**AC-3:**
- Given: der Nutzer befindet sich in einem aktiven Chat
- When: die Netzwerkverbindung während des Versands unterbrochen wird
- Then: das System zeigt den Versandstatus an und ermöglicht einen erneuten Sendeversuch, ohne die Datei zu verlieren

---

## US-055: Galerie-Zugriff

**Priority:** MUST
**Linked Requirement:** WA-MED-009

### User Story

> As a **App-Nutzer**
> I want to **Bilder aus der Geraete-Galerie auswaehlen, um sie in einer Nachricht zu versenden**
> So that **schnell und intuitiv Medien teilen zu koennen, ohne die App zu verlassen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer befindet sich im Nachrichteneditor und die App hat Galeriezugriff
- When: der Nutzer die Option 'Galerie' oeffnet und ein Bild auswaehlt
- Then: das ausgewaehlte Bild wird als Anhang in der Nachricht angezeigt

**AC-2:**
- Given: der Nutzer befindet sich im Nachrichteneditor und die App hat keinen Galeriezugriff
- When: der Nutzer die Option 'Galerie' oeffnet
- Then: das System zeigt einen Hinweis zur Berechtigungsanfrage und bietet die Freigabe an

**AC-3:**
- Given: die Geraete-Galerie enthaelt keine Bilder oder der Zugriff ist eingeschraenkt
- When: der Nutzer die Option 'Galerie' oeffnet
- Then: das System zeigt eine leere Galerieansicht mit entsprechender Meldung an

---

## US-056: HD-Medien

**Priority:** SHOULD
**Linked Requirement:** WA-MED-010

### User Story

> As a **Endnutzer**
> I want to **Medien in HD-Qualität senden**
> So that **Nachrichten in hoher visueller Qualität zuverlässig und plattformübergreifend teilen zu können**

### Acceptance Criteria

**AC-1:**
- Given: der Endnutzer hat ein HD-kompatibles Bild oder Video ausgewählt und eine stabile Netzwerkverbindung
- When: der Endnutzer das Medium sendet
- Then: wird das Medium in HD-Qualität übertragen und beim Empfänger in HD angezeigt

**AC-2:**
- Given: der Endnutzer wählt ein Medium, das größer als die maximal erlaubte HD-Dateigröße ist
- When: der Endnutzer den Versand startet
- Then: wird der Versand blockiert und eine verständliche Fehlermeldung mit zulässigen Größenlimits angezeigt

**AC-3:**
- Given: der Endnutzer hat eine schwache Netzwerkverbindung
- When: der Endnutzer ein HD-Medium sendet
- Then: wird das Medium automatisch in eine unterstützte Qualität herunterskaliert oder der Nutzer wird über die Verzögerung informiert und kann den Versand fortsetzen

---

## US-057: End-to-End Verschluesselung

**Priority:** MUST
**Linked Requirement:** WA-SEC-001

### User Story

> As a **registrierter Nutzer**
> I want to **Nachrichten end-to-end verschluesselt senden und empfangen**
> So that **damit meine Kommunikation vertraulich bleibt und Datenschutz sowie Sicherheit gewaehrleistet sind**

### Acceptance Criteria

**AC-1:**
- Given: eine aktive Unterhaltung zwischen zwei registrierten Nutzern und eine stabile Verbindung
- When: der Nutzer eine Nachricht sendet
- Then: die Nachricht wird end-to-end verschluesselt uebertragen und kann nur vom vorgesehenen Empfaenger entschluesselt werden

**AC-2:**
- Given: ein Server oder ein Administrator hat Zugriff auf die gespeicherten Nachrichten
- When: ein Zugriff auf den Nachrichteninhalt versucht wird
- Then: der Inhalt bleibt unlesbar und kann nicht entschluesselt werden

**AC-3:**
- Given: die Verschluesselungsschluessel des Empfaengers sind nicht verfuegbar oder inkonsistent
- When: eine Nachricht gesendet werden soll
- Then: das System verhindert den Versand und informiert den Nutzer ueber den Fehler

---

## US-058: Sicherheitscode-Verifizierung

**Priority:** MUST
**Linked Requirement:** WA-SEC-002

### User Story

> As a **registrierter Nutzer**
> I want to **den Verschlüsselungs-Sicherheitscode manuell verifizieren**
> So that **um Datenschutz und sichere Kommunikation zu gewährleisten**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und eine Konversation ist geöffnet
- When: der Nutzer den angezeigten Sicherheitscode mit dem Gegenüber abgleicht und die Verifizierung bestätigt
- Then: wird die Konversation als verifiziert gekennzeichnet und der Status sichtbar angezeigt

**AC-2:**
- Given: der Nutzer ist angemeldet und eine Konversation ist geöffnet
- When: der Nutzer eine Verifizierung abbricht oder den Code nicht bestätigt
- Then: bleibt die Konversation unverifiziert und es wird ein Hinweis zur erneuten Verifizierung angezeigt

**AC-3:**
- Given: der Nutzer ist angemeldet und die Sicherheitscode-Anzeige ist nicht verfügbar
- When: der Nutzer die manuelle Verifizierung startet
- Then: erhält der Nutzer eine verständliche Fehlermeldung und die Verifizierung wird nicht durchgeführt

---

## US-059: Nachrichtensperre

**Priority:** MUST
**Linked Requirement:** WA-SEC-003

### User Story

> As a **registrierter Nutzer**
> I want to **die App-Sperre für Nachrichten aktivieren und mich zur Entsperrung authentifizieren**
> So that **meine Nachrichten vor unbefugtem Zugriff schützen und Datenschutz sicherstellen**

### Acceptance Criteria

**AC-1:**
- Given: die App ist geöffnet und der Nutzer ist angemeldet
- When: der Nutzer die App-Sperre aktiviert und die App anschließend sperrt
- Then: werden Nachrichteninhalte ausgeblendet und ein Entsperrbildschirm angezeigt

**AC-2:**
- Given: die App ist gesperrt
- When: der Nutzer eine gültige Authentifizierung (z. B. PIN oder Biometrie) durchführt
- Then: wird die App entsperrt und Nachrichten sind wieder sichtbar

**AC-3:**
- Given: die App ist gesperrt
- When: der Nutzer eine ungültige Authentifizierung eingibt oder die Authentifizierung fehlschlägt
- Then: bleibt die App gesperrt und der Nutzer erhält eine Fehlermeldung

---

## US-060: Blockieren

**Priority:** MUST
**Linked Requirement:** WA-SEC-004

### User Story

> As a **registrierter Nutzer**
> I want to **einen Kontakt in der Kontaktliste blockieren**
> So that **meine Privatsphaere und Sicherheit zu schuetzen und unerwuenschte Nachrichten zu verhindern**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer befindet sich im Profil eines Kontakts
- When: er die Option „Blockieren“ bestaetigt
- Then: wird der Kontakt als blockiert markiert und kann keine Nachrichten mehr senden

**AC-2:**
- Given: ein Kontakt ist blockiert
- When: der Kontakt versucht eine Nachricht zu senden
- Then: wird die Nachricht nicht zugestellt und der Absender erhaelt einen Hinweis, dass die Zustellung nicht moeglich ist

**AC-3:**
- Given: der Nutzer hat den Kontakt bereits blockiert
- When: er erneut „Blockieren“ auswaehlt
- Then: erscheint eine Information, dass der Kontakt bereits blockiert ist und keine Aenderung erfolgt

---

## US-061: Melden

**Priority:** MUST
**Linked Requirement:** WA-SEC-005

### User Story

> As a **Endnutzer**
> I want to **eine Nachricht oder einen Kontakt melden**
> So that **damit Missbrauch gemeldet und die Plattform sicherer bleibt**

### Acceptance Criteria

**AC-1:**
- Given: der Endnutzer sieht eine empfangene Nachricht oder einen Kontakt
- When: er die Option „Melden“ auswählt und einen Grund angibt
- Then: wird die Meldung erfolgreich gespeichert und eine Bestätigung angezeigt

**AC-2:**
- Given: der Endnutzer hat keine Meldungsgründe ausgewählt
- When: er versucht die Meldung abzusenden
- Then: wird eine Fehlermeldung angezeigt und die Meldung nicht gespeichert

**AC-3:**
- Given: die Meldungserstellung wird durch eine technische Störung verhindert
- When: der Endnutzer die Meldung absendet
- Then: wird eine verständliche Fehlermeldung angezeigt und der Nutzer kann es erneut versuchen

---

## US-062: Zwei-Schritte-Verifizierung

**Priority:** MUST
**Linked Requirement:** WA-SEC-006

### User Story

> As a **registrierter Nutzer**
> I want to **eine optionale zusaetzliche PIN-Sicherung fuer sein Konto aktivieren**
> So that **um den Zugriff besser zu schuetzen und Datenschutz sowie Sicherheit zu erhoehen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und in den Sicherheitseinstellungen
- When: er die PIN-Sicherung aktiviert und eine gueltige PIN bestaetigt
- Then: wird die Zwei-Schritte-Verifizierung aktiviert und der Nutzer erhaelt eine Bestaetigung

**AC-2:**
- Given: der Nutzer aktiviert die PIN-Sicherung
- When: er eine zu kurze oder ungueltige PIN eingibt
- Then: wird eine Fehlermeldung angezeigt und die Aktivierung nicht gespeichert

**AC-3:**
- Given: die PIN-Sicherung ist aktiviert
- When: der Nutzer sich erneut anmeldet
- Then: wird er zur Eingabe der PIN aufgefordert und erhaelt erst danach Zugriff

---

## US-063: Spam-Erkennung

**Priority:** SHOULD
**Linked Requirement:** WA-SEC-007

### User Story

> As a **Support-Team**
> I want to **automatische Spam-Erkennung für eingehende Nachrichten nutzen**
> So that **Missbrauch zu verhindern und die Zuverlässigkeit der Nachrichtenzustellung sowie die Compliance-Einhaltung sicherzustellen**

### Acceptance Criteria

**AC-1:**
- Given: eine eingehende Nachricht mit typischen Spam-Merkmalen
- When: die Nachricht vom System verarbeitet wird
- Then: wird die Nachricht als Spam markiert und von der regulären Zustellung ausgeschlossen

**AC-2:**
- Given: eine legitime eingehende Nachricht ohne Spam-Merkmale
- When: die Nachricht vom System verarbeitet wird
- Then: wird die Nachricht normal zugestellt und nicht als Spam gekennzeichnet

**AC-3:**
- Given: eine Nachricht mit unklaren Merkmalen nahe der Spam-Schwelle
- When: die Erkennung keine eindeutige Entscheidung trifft
- Then: wird die Nachricht als „verdächtig“ markiert und zur Moderation vorgesehen

**AC-4:**
- Given: ein interner Fehler im Spam-Erkennungsmodul
- When: die Verarbeitung einer eingehenden Nachricht fehlschlägt
- Then: wird die Nachricht als nicht klassifiziert behandelt und ein Fehler für das Monitoring protokolliert

---

## US-064: IP-Adresse schuetzen

**Priority:** SHOULD
**Linked Requirement:** WA-SEC-008

### User Story

> As a **Support-Mitarbeiter**
> I want to **IP-Adressen bei Anrufen automatisch verschleiern lassen**
> So that **Datenschutz und Compliance einzuhalten und Missbrauch zu verhindern**

### Acceptance Criteria

**AC-1:**
- Given: ein Anruf wird zwischen zwei Nutzern aufgebaut
- When: die Verbindung hergestellt wird
- Then: werden die IP-Adressen beider Parteien im System und in Protokollen verschleiert dargestellt

**AC-2:**
- Given: ein Nutzer versucht, die IP-Adresse des Gegenübers einzusehen
- When: der Nutzer die Anrufdetails aufruft
- Then: wird keine reale IP-Adresse angezeigt, sondern eine maskierte Information

**AC-3:**
- Given: die Verschleierungsfunktion ist aufgrund eines Systemfehlers nicht verfuegbar
- When: ein Anruf gestartet wird
- Then: wird der Anruf sicher abgebrochen und ein Fehler protokolliert, ohne IP-Adressen offenzulegen

---

## US-065: Push-Benachrichtigungen

**Priority:** MUST
**Linked Requirement:** WA-NOT-001

### User Story

> As a **registrierter Nutzer**
> I want to **Push-Benachrichtigungen auf allen unterstützten Geräten empfangen**
> So that **damit ich wichtige Informationen zuverlässig und zeitnah erhalte**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer hat Push-Benachrichtigungen in der App aktiviert und eine stabile Internetverbindung
- When: das System eine Benachrichtigung sendet
- Then: wird die Push-Benachrichtigung innerhalb von 5 Sekunden auf dem Gerät angezeigt

**AC-2:**
- Given: der Nutzer ist gleichzeitig auf mehreren unterstützten Geräten angemeldet
- When: das System eine Benachrichtigung sendet
- Then: wird die Benachrichtigung auf allen aktiven Geräten zugestellt

**AC-3:**
- Given: die Internetverbindung des Nutzers ist vorübergehend unterbrochen
- When: das System eine Benachrichtigung sendet
- Then: wird die Benachrichtigung nach Wiederherstellung der Verbindung automatisch zugestellt

---

## US-066: Benachrichtigungsvorschau

**Priority:** MUST
**Linked Requirement:** WA-NOT-002

### User Story

> As a **Shop-Administrator**
> I want to **Benachrichtigungsvorschauen konfigurieren und anzeigen**
> So that **damit Kunden relevante Informationen schnell sehen und die Zustellung effizient bleibt**

### Acceptance Criteria

**AC-1:**
- Given: der Administrator ist angemeldet und eine Benachrichtigungsvorlage existiert
- When: er eine Vorschau mit konfiguriertem Inhalt und Platzhaltern öffnet
- Then: zeigt das System eine realitätsnahe Vorschau mit korrekt aufgelösten Platzhaltern an

**AC-2:**
- Given: der Administrator deaktiviert die Vorschau für bestimmte Kanäle
- When: er eine Benachrichtigung für diese Kanäle erstellt
- Then: wird keine Vorschau angezeigt und die Einstellung wird gespeichert

**AC-3:**
- Given: eine Vorlage enthält ungültige Platzhalter oder überschreitet maximale Vorschau-Längen
- When: der Administrator die Vorschau generiert
- Then: zeigt das System eine verständliche Fehlermeldung und verhindert das Speichern der fehlerhaften Konfiguration

---

## US-067: Schnellantwort

**Priority:** MUST
**Linked Requirement:** WA-NOT-003

### User Story

> As a **Endnutzer**
> I want to **direkt aus der Benachrichtigung auf eine Nachricht antworten**
> So that **um schnell und intuitiv zu kommunizieren, ohne die App zu oeffnen**

### Acceptance Criteria

**AC-1:**
- Given: der Endnutzer erhaelt eine Benachrichtigung zu einer neuen Nachricht
- When: er eine Antwort im Benachrichtigungsfeld eingibt und absendet
- Then: wird die Antwort erfolgreich an den Absender zugestellt und in der Konversation angezeigt

**AC-2:**
- Given: der Endnutzer ist voruebergehend offline
- When: er versucht, ueber die Benachrichtigung zu antworten
- Then: wird die Nachricht als ausstehend markiert und automatisch gesendet, sobald die Verbindung wiederhergestellt ist

**AC-3:**
- Given: die Benachrichtigung ist abgelaufen oder die Sitzung ist ungueltig
- When: der Endnutzer eine Schnellantwort sendet
- Then: erhaelt er eine Fehlermeldung und wird aufgefordert, die App zu oeffnen, um zu antworten

---

## US-068: Nicht stoeren

**Priority:** MUST
**Linked Requirement:** WA-NOT-004

### User Story

> As a **registrierter Nutzer**
> I want to **einen Nicht-Stoeren-Modus aktivieren und konfigurieren**
> So that **waehrend Fokuszeiten keine Benachrichtigungen zu erhalten und dennoch die Kontrolle ueber die Erreichbarkeit zu behalten**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer befindet sich in den Einstellungen und der Nicht-Stoeren-Modus ist deaktiviert
- When: der Nutzer den Nicht-Stoeren-Modus aktiviert
- Then: werden eingehende Benachrichtigungen stummgeschaltet und der Status ist fuer den Nutzer erkennbar

**AC-2:**
- Given: der Nicht-Stoeren-Modus ist aktiviert und eine Ausnahmeliste ist konfiguriert
- When: eine Nachricht von einem Kontakt aus der Ausnahmeliste eingeht
- Then: wird die Benachrichtigung trotz aktiviertem Nicht-Stoeren-Modus zugestellt

**AC-3:**
- Given: der Nicht-Stoeren-Modus ist aktiviert
- When: der Nutzer eine zeitliche Planung fuer den Modus setzt
- Then: wird der Modus automatisch zu den festgelegten Zeiten ein- und ausgeschaltet

**AC-4:**
- Given: der Nutzer aktiviert den Nicht-Stoeren-Modus
- When: eine Systemstoerung verhindert die Speicherung der Einstellung
- Then: erhaelt der Nutzer eine Fehlermeldung und der Modus bleibt unveraendert

---

## US-069: Reaktionsbenachrichtigungen

**Priority:** SHOULD
**Linked Requirement:** WA-NOT-005

### User Story

> As a **registrierter Nutzer**
> I want to **Benachrichtigungen über Reaktionen auf meine eigenen Nachrichten erhalten**
> So that **damit ich zeitnah auf Feedback reagieren kann und die Kommunikation effizient bleibt**

### Acceptance Criteria

**AC-1:**
- Given: ich habe eine Nachricht in einem Chat gesendet
- When: ein anderer Nutzer auf diese Nachricht reagiert
- Then: erhalte ich eine Benachrichtigung mit der Information zur Reaktion und dem Bezug zur Nachricht

**AC-2:**
- Given: ich habe Benachrichtigungen für Reaktionen in den Einstellungen deaktiviert
- When: ein anderer Nutzer auf meine Nachricht reagiert
- Then: erhalte ich keine Benachrichtigung

**AC-3:**
- Given: die Zustellung von Push-Benachrichtigungen ist vorübergehend nicht möglich
- When: ein anderer Nutzer auf meine Nachricht reagiert
- Then: wird die Benachrichtigung in der App als ungelesen markiert und nach Wiederherstellung der Verbindung angezeigt

---

## US-070: Anrufbenachrichtigungen

**Priority:** MUST
**Linked Requirement:** WA-NOT-006

### User Story

> As a **registrierter Nutzer**
> I want to **separate Anrufbenachrichtigungen konfigurieren**
> So that **Benachrichtigungen individuell steuern zu können und dabei Datenschutz sowie Zuverlässigkeit sicherzustellen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und befindet sich in den Benachrichtigungseinstellungen
- When: er die separaten Anrufbenachrichtigungseinstellungen aktiviert oder deaktiviert
- Then: werden die Anrufbenachrichtigungen unabhängig von anderen Benachrichtigungstypen entsprechend der Auswahl gespeichert

**AC-2:**
- Given: der Nutzer hat Anrufbenachrichtigungen deaktiviert
- When: ein Anruf eingeht
- Then: erhält der Nutzer keine Anrufbenachrichtigung, während andere Benachrichtigungen weiterhin gemäß ihren Einstellungen funktionieren

**AC-3:**
- Given: eine ungültige Konfiguration wird über die Oberfläche oder API übermittelt
- When: das System die Eingabe validiert
- Then: wird eine verständliche Fehlermeldung angezeigt und die vorherigen Einstellungen bleiben unverändert

---

## US-071: Kontakte synchronisieren

**Priority:** MUST
**Linked Requirement:** WA-CON-001

### User Story

> As a **registrierter Nutzer**
> I want to **Geraete-Kontakte mit WhatsApp-Nutzern synchronisieren**
> So that **damit ich schnell erkenne, welche Kontakte WhatsApp nutzen und Nachrichten verlaesslich versenden kann**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und hat der Kontaktberechtigung zugestimmt
- When: der Nutzer die Kontaktsynchronisierung startet
- Then: das System gleicht die Geraete-Kontakte mit WhatsApp-Nutzern ab und markiert Treffer in der Kontaktliste

**AC-2:**
- Given: einige Geraete-Kontakte sind nicht bei WhatsApp registriert
- When: die Kontaktsynchronisierung abgeschlossen wird
- Then: nicht registrierte Kontakte werden nicht als WhatsApp-Nutzer angezeigt

**AC-3:**
- Given: die Kontaktberechtigung wurde nicht erteilt
- When: der Nutzer die Kontaktsynchronisierung startet
- Then: das System zeigt eine klare Fehlermeldung und fordert die Berechtigung an

**AC-4:**
- Given: die Netzwerkverbindung ist instabil oder unterbrochen
- When: die Kontaktsynchronisierung ausgefuehrt wird
- Then: das System zeigt eine Fehlermeldung und bietet eine erneute Synchronisierung an

---

## US-072: Kontakt hinzufuegen

**Priority:** MUST
**Linked Requirement:** WA-CON-002

### User Story

> As a **Endnutzer**
> I want to **einen neuen Kontakt über verschiedene Wege hinzufügen**
> So that **um schnell und intuitiv Kommunikationspartner zu erfassen und zuverlässig Nachrichten zuzustellen**

### Acceptance Criteria

**AC-1:**
- Given: der Endnutzer ist in der App angemeldet und befindet sich im Bereich Kontakte
- When: er fügt einen Kontakt über eine der unterstützten Methoden hinzu (z. B. manuelle Eingabe, Import oder QR-Code)
- Then: der Kontakt wird erfolgreich erstellt und in der Kontaktliste angezeigt

**AC-2:**
- Given: der Endnutzer versucht, einen Kontakt mit unvollständigen Pflichtdaten hinzuzufügen
- When: er die Eingabe absendet
- Then: das System zeigt eine verständliche Fehlermeldung an und der Kontakt wird nicht angelegt

**AC-3:**
- Given: der Endnutzer fügt einen Kontakt hinzu, der bereits existiert
- When: er die Anlage bestätigt
- Then: das System verhindert doppelte Einträge und bietet eine Aktualisierung oder Abbruchoption an

---

## US-073: Favoriten

**Priority:** SHOULD
**Linked Requirement:** WA-CON-003

### User Story

> As a **registrierter Nutzer**
> I want to **einen Kontakt als Favorit markieren und verwalten**
> So that **um wichtige Kontakte schneller zu finden und effizienter zu kommunizieren**

### Acceptance Criteria

**AC-1:**
- Given: ein Kontakt ist in der Kontaktliste vorhanden und der Nutzer ist angemeldet
- When: der Nutzer den Kontakt als Favorit markiert
- Then: erscheint der Kontakt in der Favoritenliste und ist dort sofort auffindbar

**AC-2:**
- Given: ein Kontakt ist bereits als Favorit markiert
- When: der Nutzer die Favoritenmarkierung entfernt
- Then: wird der Kontakt aus der Favoritenliste entfernt und bleibt in der normalen Kontaktliste bestehen

**AC-3:**
- Given: der Nutzer hat keine Favoriten angelegt
- When: der Nutzer die Favoritenansicht aufruft
- Then: wird eine leere Favoritenliste mit einem Hinweis angezeigt

---

## US-074: Labels/Tags

**Priority:** SHOULD
**Linked Requirement:** WA-CON-004

### User Story

> As a **Business-Nutzer**
> I want to **Kontakt-Labels erstellen, zuweisen und verwalten**
> So that **Kontakte effizient zu segmentieren und die professionelle Kommunikation zu verbessern**

### Acceptance Criteria

**AC-1:**
- Given: ein Business-Nutzer ist im System angemeldet
- When: er ein neues Kontakt-Label mit gültigem Namen anlegt
- Then: wird das Label gespeichert und steht zur Auswahl bei Kontakten zur Verfügung

**AC-2:**
- Given: ein Kontakt ist vorhanden
- When: der Nutzer dem Kontakt ein oder mehrere Labels zuweist
- Then: werden die Labels am Kontakt angezeigt und für Filter/Suche nutzbar

**AC-3:**
- Given: ein neues Label soll angelegt werden
- When: der Nutzer einen leeren oder bereits vorhandenen Label-Namen eingibt
- Then: wird das Label nicht erstellt und eine verständliche Fehlermeldung angezeigt

---

## US-075: Unbekannte Absender

**Priority:** MUST
**Linked Requirement:** WA-CON-005

### User Story

> As a **Endnutzer**
> I want to **unbekannte Absender in einer separaten Ansicht sehen und deren Nachrichten kontrolliert behandeln**
> So that **datenschutzkonforme und sichere Kommunikation sowie schnelle, intuitive Bedienung zu gewaehrleisten**

### Acceptance Criteria

**AC-1:**
- Given: eine Nachricht von einem nicht im Adressbuch oder verifizierten Profil enthaltenen Absender geht ein
- When: die Nachricht zugestellt wird
- Then: das System markiert den Absender als unbekannt und zeigt die Nachricht in einem separaten Bereich an

**AC-2:**
- Given: ein unbekannter Absender sendet mehrere Nachrichten
- When: der Nutzer die Nachrichtenansicht oeffnet
- Then: alle Nachrichten dieses Absenders bleiben als unbekannt gruppiert und werden nicht in reguläre Konversationen einsortiert

**AC-3:**
- Given: eine eingehende Nachricht kann keinem Absenderprofil zugeordnet werden und enthaelt unvollstaendige Metadaten
- When: das System die Nachricht verarbeitet
- Then: die Nachricht wird dennoch als unbekannt gespeichert, der Nutzer wird informiert und es erfolgt kein automatisches Antworten

---

## US-076: Nachrichtensuche

**Priority:** MUST
**Linked Requirement:** WA-SRC-001

### User Story

> As a **Endnutzer**
> I want to **eine Volltext-Suche in seinen Nachrichten durchfuehren**
> So that **relevante Informationen schnell finden und die Kommunikation effizienter nutzen zu koennen**

### Acceptance Criteria

**AC-1:**
- Given: der Endnutzer ist angemeldet und hat Nachrichten im Postfach
- When: er einen Suchbegriff eingibt und die Suche startet
- Then: werden alle Nachrichten angezeigt, die den Suchbegriff im Inhalt enthalten

**AC-2:**
- Given: der Endnutzer ist angemeldet
- When: er einen Suchbegriff eingibt, der in keiner Nachricht vorkommt
- Then: wird eine leere Ergebnisliste mit einem Hinweis angezeigt, dass keine Treffer gefunden wurden

**AC-3:**
- Given: der Endnutzer ist angemeldet
- When: er die Suche ohne Eingabe eines Suchbegriffs startet
- Then: wird die Suche nicht ausgefuehrt und es erscheint eine Aufforderung, einen Suchbegriff einzugeben

---

## US-077: Mediensuche

**Priority:** MUST
**Linked Requirement:** WA-SRC-002

### User Story

> As a **Endnutzer**
> I want to **Medien nach Medientyp filtern**
> So that **schneller relevante Inhalte finden und die Bedienung vereinfachen**

### Acceptance Criteria

**AC-1:**
- Given: eine Medienliste mit verschiedenen Medientypen ist vorhanden
- When: der Nutzer einen Medientyp-Filter auswählt
- Then: werden nur Medien des ausgewählten Typs angezeigt

**AC-2:**
- Given: mehrere Medientypen sind verfügbar
- When: der Nutzer mehrere Medientypen gleichzeitig auswählt
- Then: werden Medien angezeigt, die zu mindestens einem ausgewählten Typ gehören

**AC-3:**
- Given: es gibt keine Medien des ausgewählten Typs
- When: der Nutzer den Filter anwendet
- Then: wird eine leere Ergebnisliste mit einem Hinweis angezeigt

**AC-4:**
- Given: ein ungültiger oder nicht unterstützter Medientyp wird über die UI oder API übergeben
- When: der Filter angewendet wird
- Then: wird eine verständliche Fehlermeldung ausgegeben und der Filter nicht angewendet

---

## US-078: Chat-Suche

**Priority:** MUST
**Linked Requirement:** WA-SRC-003

### User Story

> As a **Endnutzer**
> I want to **Chats und Kontakte über eine Suchfunktion finden**
> So that **relevante Unterhaltungen schnell wiederfinden und die Kommunikation effizient fortsetzen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer hat mehrere Chats und gespeicherte Kontakte
- When: er einen eindeutigen Namen in das Suchfeld eingibt
- Then: werden passende Chats und Kontakte innerhalb kurzer Zeit angezeigt

**AC-2:**
- Given: es existieren Chats mit ähnlichen Namen oder Begriffen
- When: der Nutzer einen Teilbegriff eingibt
- Then: werden alle relevanten Treffer mit teilweiser Übereinstimmung gelistet

**AC-3:**
- Given: der Nutzer gibt einen Begriff ein, zu dem keine Chats oder Kontakte existieren
- When: die Suche ausgeführt wird
- Then: wird eine leere Ergebnisliste mit einem Hinweis angezeigt, dass keine Treffer vorhanden sind

---

## US-079: Datumsbasierte Suche

**Priority:** SHOULD
**Linked Requirement:** WA-SRC-004

### User Story

> As a **Endnutzer**
> I want to **zu einem bestimmten Datum in der Nachrichtenhistorie springen**
> So that **schnell und intuitiv relevante Nachrichten finden und die Bedienung vereinfachen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer befindet sich in der Nachrichtenhistorie
- When: er ein gültiges Datum auswählt und die Suche auslöst
- Then: springt die Ansicht zur ersten Nachricht des ausgewählten Datums

**AC-2:**
- Given: es gibt keine Nachrichten am ausgewählten Datum
- When: der Nutzer die datumsgestützte Suche ausführt
- Then: wird eine klare Hinweisnachricht angezeigt und die aktuelle Position bleibt erhalten

**AC-3:**
- Given: der Nutzer gibt ein ungültiges oder unvollständiges Datum ein
- When: er die Suche startet
- Then: wird eine validierende Fehlermeldung angezeigt und die Suche nicht ausgeführt

---

## US-080: Zuletzt online

**Priority:** MUST
**Linked Requirement:** WA-SET-001

### User Story

> As a **registrierter Nutzer**
> I want to **meine Sichtbarkeit des Zuletzt-online-Status in den Einstellungen konfigurieren**
> So that **damit ich meine Privatsphäre schütze und dennoch transparent kommunizieren kann**

### Acceptance Criteria

**AC-1:**
- Given: ich bin angemeldet und befinde mich in den Datenschutz-Einstellungen
- When: ich die Option „Zuletzt online“ auf „sichtbar für alle“ setze und speichere
- Then: wird mein Zuletzt-online-Status für alle Kontakte angezeigt

**AC-2:**
- Given: ich bin angemeldet und befinde mich in den Datenschutz-Einstellungen
- When: ich die Option „Zuletzt online“ auf „niemand“ setze und speichere
- Then: wird mein Zuletzt-online-Status für niemanden angezeigt

**AC-3:**
- Given: ich bin angemeldet und habe die Einstellung auf „nur Kontakte“ gesetzt
- When: ein Nicht-Kontakt mein Profil aufruft
- Then: sieht der Nicht-Kontakt keinen Zuletzt-online-Status

**AC-4:**
- Given: ich bin angemeldet und ändere die Einstellung
- When: das Speichern fehlschlägt
- Then: erhalte ich eine verständliche Fehlermeldung und die vorherige Einstellung bleibt bestehen

---

## US-081: Lesebestaetigung

**Priority:** MUST
**Linked Requirement:** WA-SET-002

### User Story

> As a **Business-Nutzer**
> I want to **Lesebestätigungen pro Konversation ein- oder ausschalten**
> So that **damit ich die Kommunikationsqualität steuern und Datenschutzanforderungen einhalten kann**

### Acceptance Criteria

**AC-1:**
- Given: ich bin als Business-Nutzer angemeldet und befinde mich in einer Konversation
- When: ich die Lesebestätigung für diese Konversation aktiviere
- Then: werden gelesene Nachrichten mit einer Lesebestätigung angezeigt und protokolliert

**AC-2:**
- Given: ich bin als Business-Nutzer angemeldet und befinde mich in einer Konversation
- When: ich die Lesebestätigung für diese Konversation deaktiviere
- Then: werden keine Lesebestätigungen mehr angezeigt oder versendet

**AC-3:**
- Given: die Lesebestätigung ist aktiviert und der Empfänger erlaubt Lesebestätigungen nicht
- When: die Nachricht zugestellt und geöffnet wird
- Then: erhält der Absender keine Lesebestätigung und das System zeigt einen Hinweis zur Einschränkung an

---

## US-082: Profilbild-Sichtbarkeit

**Priority:** MUST
**Linked Requirement:** WA-SET-003

### User Story

> As a **registrierter Nutzer**
> I want to **die Sichtbarkeit meines Profilbildes konfigurieren**
> So that **damit ich meine Privatsphaere schuetze und meine Kommunikation dennoch persoenlich gestalten kann**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und befindet sich in den Profileinstellungen
- When: er eine Sichtbarkeitsoption fuer sein Profilbild auswaehlt und speichert
- Then: wird die Auswahl gespeichert und die Sichtbarkeit des Profilbildes gemaess der Option angewendet

**AC-2:**
- Given: der Nutzer hat eine restriktive Option gewaehlt (z. B. nur Kontakte)
- When: ein Nicht-Kontakt sein Profil aufruft
- Then: wird das Profilbild nicht angezeigt

**AC-3:**
- Given: es tritt ein Speicherfehler auf
- When: der Nutzer die Sichtbarkeitsoption speichern moechte
- Then: erhaelt der Nutzer eine Fehlermeldung und die vorherige Einstellung bleibt unveraendert

---

## US-083: Info-Sichtbarkeit

**Priority:** MUST
**Linked Requirement:** WA-SET-004

### User Story

> As a **Support-Administrator**
> I want to **die Sichtbarkeit von Info- und Status-Texten für definierte Nutzergruppen konfigurieren**
> So that **damit sensible Informationen geschützt und gleichzeitig eine klare, professionelle Kommunikation sichergestellt wird**

### Acceptance Criteria

**AC-1:**
- Given: der Support-Administrator ist im Konfigurationsbereich für Info/Status-Texte angemeldet
- When: er die Sichtbarkeit für eine Nutzergruppe aktiviert und speichert
- Then: sehen nur Nutzer dieser Gruppe die entsprechenden Info/Status-Texte in der Anwendung

**AC-2:**
- Given: es sind keine Sichtbarkeitsregeln für einen Info/Status-Text definiert
- When: ein Nutzer die Anwendung öffnet
- Then: wird der Text gemäß der Standardregel (z. B. sichtbar für alle) angezeigt

**AC-3:**
- Given: der Support-Administrator versucht eine ungültige oder leere Zielgruppe auszuwählen
- When: er die Konfiguration speichert
- Then: wird eine verständliche Fehlermeldung angezeigt und die Änderung nicht gespeichert

---

## US-084: Gruppen-Einladungen

**Priority:** MUST
**Linked Requirement:** WA-SET-005

### User Story

> As a **Gruppen-Admin**
> I want to **festlegen, wer Mitglieder zu einer Gruppe hinzufügen darf**
> So that **Datenschutz und Sicherheit zu gewährleisten und Missbrauch zu verhindern**

### Acceptance Criteria

**AC-1:**
- Given: der Gruppen-Admin befindet sich in den Gruppeneinstellungen
- When: er die Option „Nur Admins dürfen Mitglieder hinzufügen“ auswählt und speichert
- Then: können nur Admins neue Mitglieder zur Gruppe hinzufügen

**AC-2:**
- Given: die Gruppeneinstellung erlaubt das Hinzufügen durch alle Mitglieder
- When: ein normales Mitglied einen Einladungslink nutzt, um eine Person hinzuzufügen
- Then: wird die Person erfolgreich der Gruppe hinzugefügt

**AC-3:**
- Given: die Gruppeneinstellung erlaubt das Hinzufügen nur durch Admins
- When: ein normales Mitglied versucht, eine Person hinzuzufügen
- Then: wird der Vorgang abgelehnt und eine verständliche Fehlermeldung angezeigt

---

## US-085: Speichernutzung

**Priority:** MUST
**Linked Requirement:** WA-SET-006

### User Story

> As a **Systemadministrator**
> I want to **eine Uebersicht der Speichernutzung anzeigen und Speicher verwalten**
> So that **damit Speicher effizient genutzt, Engpaesse frueh erkannt und Compliance eingehalten werden kann**

### Acceptance Criteria

**AC-1:**
- Given: der Administrator ist angemeldet und hat Berechtigung zur Speicherverwaltung
- When: er die Speichernutzungsansicht oeffnet
- Then: werden Gesamtverbrauch, freier Speicher und Nutzung nach Bereichen klar und aktuell angezeigt

**AC-2:**
- Given: Speicherbereiche mit hohem Verbrauch sind vorhanden
- When: der Administrator einen Bereich auswaehlt
- Then: werden Detailinformationen sowie Optionen zur Bereinigung oder Archivierung angezeigt

**AC-3:**
- Given: die Speichernutzungsdaten koennen nicht geladen werden
- When: die Ansicht aufgerufen wird
- Then: erhaelt der Administrator eine verstaendliche Fehlermeldung und die Moeglichkeit, den Ladevorgang zu wiederholen

**AC-4:**
- Given: ein Bereich hat keine gespeicherten Daten
- When: der Administrator diesen Bereich aufruft
- Then: wird eine leere, aber informative Anzeige ohne Fehlermeldung dargestellt

---

## US-086: Datennutzung

**Priority:** MUST
**Linked Requirement:** WA-SET-007

### User Story

> As a **registrierter Nutzer**
> I want to **meinen Datenverbrauch einsehen und begrenzen**
> So that **damit ich Datenschutz wahre und meinen Datenverbrauch kontrolliert steuern kann**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und die Datenverbrauchsfunktion ist verfügbar
- When: der Nutzer den Bereich „Datennutzung“ öffnet
- Then: werden aktueller Verbrauch, Zeitraum und verbleibendes Limit klar angezeigt

**AC-2:**
- Given: der Nutzer hat ein aktives Limit festgelegt
- When: der Verbrauch das definierte Limit erreicht
- Then: wird der Nutzer sofort benachrichtigt und die Datennutzung wird gemäß Einstellung eingeschränkt

**AC-3:**
- Given: die Datennutzungsdaten können nicht geladen werden
- When: der Nutzer den Bereich „Datennutzung“ aufruft
- Then: erscheint eine verständliche Fehlermeldung mit der Möglichkeit, den Ladevorgang zu wiederholen

---

## US-087: Chat-Hintergrund

**Priority:** SHOULD
**Linked Requirement:** WA-SET-008

### User Story

> As a **registrierter Endnutzer**
> I want to **den Hintergrund eines Chats aus vordefinierten Optionen auswählen oder zurücksetzen**
> So that **die Konversationen persönlicher und leichter unterscheidbar zu gestalten, ohne die Bedienung zu verkomplizieren**

### Acceptance Criteria

**AC-1:**
- Given: ein Nutzer ist in einem Chat und die Hintergrundauswahl ist verfügbar
- When: der Nutzer einen Hintergrund aus der Liste auswählt
- Then: wird der Chat-Hintergrund sofort angezeigt und die Auswahl für diesen Chat gespeichert

**AC-2:**
- Given: ein Nutzer hat einen individuellen Hintergrund gesetzt
- When: der Nutzer die Option „Standard wiederherstellen“ auswählt
- Then: wird der Standardhintergrund angewendet und die individuelle Auswahl entfernt

**AC-3:**
- Given: die Hintergrundauswahl kann nicht geladen werden (z. B. Netzwerkfehler)
- When: der Nutzer versucht die Hintergrundliste zu öffnen
- Then: wird eine verständliche Fehlermeldung angezeigt und der aktuelle Hintergrund bleibt unverändert

---

## US-088: Dark Mode

**Priority:** MUST
**Linked Requirement:** WA-SET-009

### User Story

> As a **registrierter Nutzer**
> I want to **den Dark Mode in den Einstellungen aktivieren**
> So that **die Bedienung bei schlechten Lichtverhaeltnissen angenehmer zu gestalten und die Augen zu schonen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und befindet sich in den Einstellungen
- When: er den Dark Mode aktiviert
- Then: wechselt die gesamte Benutzeroberflaeche sofort in ein dunkles Farbschema

**AC-2:**
- Given: der Dark Mode ist aktiviert
- When: der Nutzer die Anwendung neu startet oder die Seite neu laedt
- Then: bleibt der Dark Mode aktiv und wird korrekt angewendet

**AC-3:**
- Given: der Nutzer aktiviert den Dark Mode waehrend der Nutzung
- When: eine Ansicht nicht kompatibel gestaltet ist
- Then: werden alle Texte und Bedienelemente weiterhin lesbar und kontrastreich dargestellt

---

## US-089: Sprache

**Priority:** MUST
**Linked Requirement:** WA-SET-010

### User Story

> As a **primärer Endnutzer**
> I want to **die Anwendung in seiner bevorzugten Sprache nutzen und zwischen mehreren Sprachen wechseln**
> So that **die Bedienung verständlich und intuitiv zu gestalten sowie die Akzeptanz und Nutzung plattformübergreifend zu erhöhen**

### Acceptance Criteria

**AC-1:**
- Given: das System unterstützt mehrere Sprachen und der Nutzer ist eingeloggt
- When: der Nutzer eine verfügbare Sprache aus der Spracheinstellung auswählt
- Then: werden Oberfläche, Menüs und Systemmeldungen sofort in der gewählten Sprache angezeigt

**AC-2:**
- Given: der Nutzer hat keine Spracheinstellung vorgenommen
- When: der Nutzer die Anwendung öffnet
- Then: wird eine Standardsprache basierend auf den Systemeinstellungen des Geräts gewählt und angezeigt

**AC-3:**
- Given: eine bestimmte Übersetzung ist für einen Text nicht verfügbar
- When: die entsprechende Ansicht geladen wird
- Then: wird der Text in der Fallback-Sprache angezeigt und die Anwendung bleibt funktionsfähig

---

## US-090: Cloud-Backup

**Priority:** MUST
**Linked Requirement:** WA-BAK-001

### User Story

> As a **Endnutzer**
> I want to **Chats in der Cloud sichern**
> So that **damit meine Nachrichten plattformübergreifend verfügbar bleiben und vor Datenverlust geschützt sind**

### Acceptance Criteria

**AC-1:**
- Given: ein angemeldeter Nutzer und eine aktive Internetverbindung
- When: der Nutzer die Cloud-Sicherung aktiviert und eine Sicherung startet
- Then: werden alle vorhandenen Chats verschlüsselt in der Cloud gespeichert und der Nutzer erhält eine Bestätigung

**AC-2:**
- Given: eine große Chat-Historie mit mehr als 10.000 Nachrichten
- When: der Nutzer eine Sicherung startet
- Then: wird die Sicherung ohne Zeitüberschreitung abgeschlossen und der Fortschritt wird angezeigt

**AC-3:**
- Given: die Internetverbindung wird während der Sicherung unterbrochen
- When: die Verbindung wiederhergestellt ist
- Then: setzt das System die Sicherung automatisch fort, ohne Daten zu duplizieren oder zu verlieren

**AC-4:**
- Given: der Cloud-Speicher des Nutzers ist voll
- When: der Nutzer eine Sicherung startet
- Then: bricht das System die Sicherung ab und zeigt eine verständliche Fehlermeldung mit Handlungsempfehlung an

---

## US-091: Verschluesseltes Backup

**Priority:** MUST
**Linked Requirement:** WA-BAK-002

### User Story

> As a **Endnutzer**
> I want to **ein End-to-End verschlüsseltes Backup meiner Daten erstellen und wiederherstellen**
> So that **damit meine Daten auch bei Backup und Restore jederzeit vertraulich und sicher bleiben**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und hat die Backup-Funktion aufgerufen
- When: der Nutzer ein Backup startet
- Then: wird ein End-to-End verschlüsseltes Backup erstellt und bestätigt, ohne dass der Server die Daten im Klartext erhält

**AC-2:**
- Given: ein gültiges verschlüsseltes Backup ist vorhanden
- When: der Nutzer eine Wiederherstellung durchführt und den korrekten Schlüssel/Passphrase angibt
- Then: werden die Daten erfolgreich wiederhergestellt und sind nach dem Restore unverändert nutzbar

**AC-3:**
- Given: ein verschlüsseltes Backup ist vorhanden
- When: der Nutzer eine Wiederherstellung mit falschem Schlüssel/Passphrase versucht
- Then: schlägt die Wiederherstellung fehl und der Nutzer erhält eine verständliche Fehlermeldung

---

## US-092: Chat exportieren

**Priority:** MUST
**Linked Requirement:** WA-BAK-003

### User Story

> As a **Business-Nutzer**
> I want to **einen einzelnen Chatverlauf exportieren**
> So that **um Gespraeche fuer Dokumentation und Compliance sicher zu archivieren**

### Acceptance Criteria

**AC-1:**
- Given: der Business-Nutzer ist angemeldet und hat Zugriff auf einen Chat
- When: er den Export des ausgewaehlten Chats ausloest
- Then: wird der Chat als Datei exportiert und steht zum Download bereit

**AC-2:**
- Given: der Business-Nutzer versucht einen Chat zu exportieren, auf den er keinen Zugriff hat
- When: er den Export ausloest
- Then: wird der Export verweigert und eine Zugriffsfehlermeldung angezeigt

**AC-3:**
- Given: der Exportdienst ist temporaer nicht verfuegbar
- When: der Business-Nutzer den Export ausloest
- Then: erhaelt er eine Fehlermeldung mit Hinweis zum spaeteren Wiederholen

---

## US-093: Chatverlauf uebertragen

**Priority:** MUST
**Linked Requirement:** WA-BAK-004

### User Story

> As a **registrierter Nutzer**
> I want to **den Chatverlauf auf ein neues Geraet uebertragen**
> So that **um meine Kommunikation plattformuebergreifend fortsetzen zu koennen und keine Nachrichten zu verlieren**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist auf dem alten und dem neuen Geraet angemeldet und die Verbindung ist stabil
- When: der Nutzer die Uebertragung des Chatverlaufs startet
- Then: wird der komplette Chatverlauf erfolgreich auf das neue Geraet uebertragen und ist dort sichtbar

**AC-2:**
- Given: es existiert nur ein Teil des Chatverlaufs aufgrund von Speicherbegrenzungen oder Loeschungen
- When: der Nutzer die Uebertragung ausfuehrt
- Then: werden alle verfuegbaren Chats uebertragen und fehlende Inhalte klar als nicht verfuegbar gekennzeichnet

**AC-3:**
- Given: die Netzwerkverbindung bricht waehrend der Uebertragung ab
- When: die Uebertragung fehlschlaegt
- Then: erhaelt der Nutzer eine Fehlermeldung und kann die Uebertragung erneut starten, ohne dass bereits uebertragene Daten verloren gehen

---

## US-094: Chat archivieren

**Priority:** MUST
**Linked Requirement:** WA-BAK-005

### User Story

> As a **registrierter Nutzer**
> I want to **einen bestehenden Chat archivieren**
> So that **um die Chatliste übersichtlich zu halten und gleichzeitig den Datenschutz und die Nachvollziehbarkeit zu gewährleisten**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und ein Chat ist vorhanden
- When: der Nutzer die Option „Archivieren“ für den Chat auswählt
- Then: der Chat wird aus der aktiven Chatliste entfernt und in der Archivansicht angezeigt

**AC-2:**
- Given: der Nutzer hat keinen Zugriff auf einen Chat (z. B. nicht Teilnehmer)
- When: der Nutzer versucht, diesen Chat zu archivieren
- Then: das System verhindert die Aktion und zeigt eine Berechtigungsfehlermeldung an

**AC-3:**
- Given: eine Netzwerk- oder Serverstörung tritt während der Archivierung auf
- When: der Nutzer die Archivierung auslöst
- Then: das System zeigt eine Fehlermeldung an und der Chat bleibt in der aktiven Chatliste

---

## US-095: Chat anpinnen

**Priority:** MUST
**Linked Requirement:** WA-BAK-006

### User Story

> As a **Endnutzer**
> I want to **einen wichtigen Chat anpinnen**
> So that **um relevante Unterhaltungen schnell zu finden und effizient zu kommunizieren**

### Acceptance Criteria

**AC-1:**
- Given: ein Chat ist in der Chatliste vorhanden und noch nicht angepinnt
- When: der Nutzer die Option „Anpinnen“ auswählt
- Then: der Chat wird als angepinnt markiert und am oberen Rand der Chatliste angezeigt

**AC-2:**
- Given: ein Chat ist bereits angepinnt
- When: der Nutzer die Option „Anpinnen“ erneut auswählt
- Then: das System verhindert eine doppelte Anheftung und der Chat bleibt genau einmal angepinnt

**AC-3:**
- Given: die Systemverbindung ist unterbrochen
- When: der Nutzer versucht, einen Chat anzupinnen
- Then: das System zeigt eine Fehlermeldung an und der Chat bleibt unverändert

---

## US-096: Business-Profil

**Priority:** MUST
**Linked Requirement:** WA-BUS-001

### User Story

> As a **Business-Account-Administrator**
> I want to **ein erweitertes Business-Profil mit verifizierten Unternehmensdaten, Katalog-Integration und Kontaktinformationen anlegen und verwalten**
> So that **damit Kunden professionell informiert werden und die Kommunikation sowie der Verkaufskanal verlässlich und vertrauenswürdig sind**

### Acceptance Criteria

**AC-1:**
- Given: ein authentifizierter Business-Account ohne vorhandenes erweitertes Profil
- When: der Administrator alle Pflichtfelder ausfüllt und die Änderungen speichert
- Then: wird das erweiterte Business-Profil erstellt und ist für Kunden sichtbar

**AC-2:**
- Given: ein Business-Account mit unvollständigen Pflichtfeldern
- When: der Administrator versucht, das Profil zu speichern
- Then: zeigt das System eine Validierungsfehlermeldung an und speichert das Profil nicht

**AC-3:**
- Given: ein Business-Account mit aktiviertem Verifizierungsprozess
- When: der Administrator veraltete Verifizierungsdokumente hochlädt
- Then: weist das System die Verifizierung zurück und informiert über die erforderlichen Dokumente

---

## US-097: Verifiziertes Business

**Priority:** SHOULD
**Linked Requirement:** WA-BUS-002

### User Story

> As a **Business-Admin**
> I want to **ein Business-Profil zur Verifizierung einreichen und den Status verfolgen**
> So that **Kundenvertrauen durch ein verifiziertes Business-Profil zu erhöhen und professioneller zu kommunizieren**

### Acceptance Criteria

**AC-1:**
- Given: der Business-Admin ist angemeldet und das Profil ist vollständig ausgefüllt
- When: er einen Verifizierungsantrag mit den erforderlichen Nachweisen einreicht
- Then: wird der Antrag gespeichert und der Status auf „In Prüfung“ gesetzt

**AC-2:**
- Given: ein Verifizierungsantrag ist in Prüfung
- When: die Verifizierung erfolgreich abgeschlossen wird
- Then: wird das Profil als „Verifiziert“ gekennzeichnet und das entsprechende Badge angezeigt

**AC-3:**
- Given: der Business-Admin lädt unvollständige oder ungültige Nachweise hoch
- When: er den Antrag absendet
- Then: erhält er eine Validierungsfehlermeldung mit Hinweis auf fehlende/ungültige Dokumente

**AC-4:**
- Given: ein Verifizierungsantrag wurde abgelehnt
- When: der Business-Admin den Status aufruft
- Then: werden der Ablehnungsgrund angezeigt und die Möglichkeit zur erneuten Einreichung angeboten

---

## US-098: Schnellantworten

**Priority:** MUST
**Linked Requirement:** WA-BUS-003

### User Story

> As a **Business-Administrator**
> I want to **vordefinierte Schnellantworten fuer haeufige Kundenanfragen erstellen und verwalten**
> So that **um schneller, konsistenter und professioneller zu antworten und dabei Zeit zu sparen**

### Acceptance Criteria

**AC-1:**
- Given: der Business-Administrator ist im Business-Messaging-Bereich eingeloggt
- When: er eine neue Schnellantwort mit Titel und Text speichert
- Then: die Schnellantwort wird in der Liste angezeigt und kann beim Antworten ausgewaehlt werden

**AC-2:**
- Given: eine Schnellantwort ist bereits vorhanden
- When: der Business-Administrator die Schnellantwort bearbeitet und speichert
- Then: die geaenderte Schnellantwort wird aktualisiert angezeigt und die alte Version ist nicht mehr verfuegbar

**AC-3:**
- Given: der Business-Administrator versucht eine Schnellantwort ohne Pflichtfeld (Titel oder Text) zu speichern
- When: er auf Speichern klickt
- Then: das System zeigt eine validae Fehlermeldung an und speichert die Schnellantwort nicht

---

## US-099: Abwesenheitsnachrichten

**Priority:** MUST
**Linked Requirement:** WA-BUS-004

### User Story

> As a **Business-Admin**
> I want to **automatische Abwesenheitsnachrichten konfigurieren und aktivieren**
> So that **Kunden bei Nichtverfügbarkeit zuverlässig informieren und professionell kommunizieren**

### Acceptance Criteria

**AC-1:**
- Given: der Business-Admin ist angemeldet und die Abwesenheitsfunktion ist verfügbar
- When: er eine Abwesenheitsnachricht mit Zeitraum und Text speichert und aktiviert
- Then: wird die Nachricht im angegebenen Zeitraum automatisch an eingehende Anfragen gesendet

**AC-2:**
- Given: die Abwesenheitsfunktion ist aktiviert
- When: der angegebene Zeitraum endet
- Then: wird die automatische Abwesenheitsnachricht deaktiviert und nicht mehr versendet

**AC-3:**
- Given: der Business-Admin versucht zu speichern
- When: Pflichtfelder wie Zeitraum oder Nachrichtentext fehlen
- Then: wird eine valide Fehlermeldung angezeigt und die Aktivierung verhindert

---

## US-100: Begrussungsnachrichten

**Priority:** MUST
**Linked Requirement:** WA-BUS-005

### User Story

> As a **Business-Admin**
> I want to **automatische Begruessungsnachrichten fuer Erstkontakte konfigurieren und aktivieren**
> So that **damit Kunden sofort professionell begruesst werden und die Kommunikation effizient startet**

### Acceptance Criteria

**AC-1:**
- Given: ein neuer Kunde hat noch keine Unterhaltung mit dem Business-Konto
- When: der Kunde erstmals eine Nachricht sendet
- Then: das System sendet automatisch die konfigurierte Begruessungsnachricht innerhalb von 2 Sekunden

**AC-2:**
- Given: ein Kunde hatte bereits eine Unterhaltung mit dem Business-Konto
- When: der Kunde erneut eine Nachricht sendet
- Then: es wird keine Begruessungsnachricht automatisch gesendet

**AC-3:**
- Given: keine Begruessungsnachricht ist konfiguriert oder die Funktion ist deaktiviert
- When: ein Erstkontakt eine Nachricht sendet
- Then: das System sendet keine automatische Begruessung und protokolliert den Zustand

---

## US-101: Produktkatalog

**Priority:** MUST
**Linked Requirement:** WA-BUS-006

### User Story

> As a **Business-Administrator**
> I want to **einen Produktkatalog im System anlegen und verwalten**
> So that **damit Kunden Produkte schnell finden und die professionelle Kommunikation sowie der Umsatz gesteigert werden**

### Acceptance Criteria

**AC-1:**
- Given: der Business-Administrator ist authentifiziert und hat Zugriffsrechte
- When: er einen neuen Produktkatalog mit gültigen Produktdaten erstellt
- Then: wird der Katalog gespeichert und für Kunden über die Plattform sichtbar

**AC-2:**
- Given: der Business-Administrator bearbeitet einen bestehenden Produktkatalog
- When: er Produkte hinzufügt, ändert oder entfernt und speichert
- Then: werden die Änderungen sofort im Katalog angezeigt und sind konsistent verfügbar

**AC-3:**
- Given: der Business-Administrator erstellt einen Produktkatalog
- When: Pflichtfelder fehlen oder ungültige Daten eingegeben werden
- Then: wird die Speicherung verhindert und es werden verständliche Fehlermeldungen angezeigt

**AC-4:**
- Given: das System ist unter hoher Last
- When: der Business-Administrator den Produktkatalog öffnet
- Then: wird der Katalog innerhalb einer akzeptablen Ladezeit angezeigt

---

## US-102: Warenkorb

**Priority:** SHOULD
**Linked Requirement:** WA-BUS-007

### User Story

> As a **Kunde**
> I want to **Artikel in einem Warenkorb sammeln und verwalten**
> So that **um Bestellungen einfach vorzubereiten und später gesammelt abschließen zu können**

### Acceptance Criteria

**AC-1:**
- Given: der Kunde hat den Katalog geöffnet und mindestens einen verfügbaren Artikel ausgewählt
- When: der Kunde den Artikel zum Warenkorb hinzufügt
- Then: wird der Artikel im Warenkorb angezeigt und die Gesamtanzahl sowie der Gesamtpreis werden aktualisiert

**AC-2:**
- Given: der Warenkorb enthält mindestens einen Artikel
- When: der Kunde die Menge eines Artikels auf 0 setzt oder den Artikel entfernt
- Then: wird der Artikel aus dem Warenkorb entfernt und die Summen werden korrekt neu berechnet

**AC-3:**
- Given: der Kunde ist nicht angemeldet oder die Sitzung ist abgelaufen
- When: der Kunde versucht, einen Artikel zum Warenkorb hinzuzufügen
- Then: erhält der Kunde eine verständliche Fehlermeldung und der Artikel wird nicht gespeichert

---

## US-103: WhatsApp Pay

**Priority:** COULD
**Linked Requirement:** WA-BUS-008

### User Story

> As a **registrierter Nutzer**
> I want to **eine In-App-Zahlung über WhatsApp in einem unterstützten Markt ausführen**
> So that **um Zahlungen schnell, sicher und ohne App-Wechsel abzuschließen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer befindet sich in einem Markt, in dem WhatsApp Pay verfügbar ist, und hat eine gültige Zahlungsmethode hinterlegt
- When: der Nutzer eine Zahlung in einem Chat bestätigt
- Then: wird die Zahlung erfolgreich verarbeitet und eine Bestätigung im Chat angezeigt

**AC-2:**
- Given: der Nutzer befindet sich in einem Markt, in dem WhatsApp Pay nicht verfügbar ist
- When: der Nutzer versucht eine In-App-Zahlung zu starten
- Then: wird die Zahlungsmöglichkeit nicht angeboten und ein Hinweis zur Nichtverfügbarkeit angezeigt

**AC-3:**
- Given: der Nutzer startet eine Zahlung, aber die Zahlungsautorisierung schlägt fehl
- When: die Transaktion abgelehnt wird
- Then: wird die Zahlung nicht durchgeführt und der Nutzer erhält eine klare Fehlermeldung mit Hinweis zur erneuten Ausführung

---

## US-104: Business-Statistiken

**Priority:** MUST
**Linked Requirement:** WA-BUS-009

### User Story

> As a **Business-Admin**
> I want to **grundlegende Nachrichtenstatistiken im Dashboard anzeigen lassen**
> So that **die Kommunikation mit Kunden zu bewerten und Optimierungen abzuleiten**

### Acceptance Criteria

**AC-1:**
- Given: der Business-Admin ist angemeldet und hat Zugriff auf ein Business-Profil
- When: er die Statistikansicht öffnet
- Then: werden grundlegende Kennzahlen wie gesendete, zugestellte und gelesene Nachrichten für einen auswählbaren Zeitraum angezeigt

**AC-2:**
- Given: für den ausgewählten Zeitraum existieren keine Nachrichten
- When: der Business-Admin die Statistikansicht aufruft
- Then: wird eine leere Statistik mit dem Hinweis angezeigt, dass keine Daten verfügbar sind

**AC-3:**
- Given: es tritt ein Systemfehler oder eine Zeitüberschreitung beim Laden der Statistiken auf
- When: der Business-Admin die Statistikansicht lädt
- Then: wird eine verständliche Fehlermeldung angezeigt und es erfolgt kein unvollständiger oder verfälschter Statistik-Output

---

## US-105: API-Zugang

**Priority:** MUST
**Linked Requirement:** WA-BUS-010

### User Story

> As a **Technischer Integrationsentwickler**
> I want to **über eine dokumentierte Business-API Nachrichten und Kundendaten integrieren**
> So that **um externe Systeme nahtlos anzubinden und zuverlässige, sichere Automatisierungen zu ermöglichen**

### Acceptance Criteria

**AC-1:**
- Given: ein gültiger API-Schlüssel mit ausreichenden Berechtigungen liegt vor
- When: der Integrationsentwickler eine API-Anfrage gemäß Dokumentation sendet
- Then: liefert das System eine erfolgreiche Antwort innerhalb der definierten Performance-Grenzwerte

**AC-2:**
- Given: eine Anfrage überschreitet das konfigurierte Rate Limit
- When: die API-Anfrage gesendet wird
- Then: antwortet das System mit einem Rate-Limit-Fehlercode und einer Angabe zur Wiederholungszeit

**AC-3:**
- Given: ein ungültiger oder fehlender API-Schlüssel wird verwendet
- When: eine geschützte API-Ressource aufgerufen wird
- Then: verweigert das System den Zugriff und liefert einen Authentifizierungsfehler

---

## US-106: Screenreader-Unterstuetzung

**Priority:** MUST
**Linked Requirement:** WA-ACC-001

### User Story

> As a **Endnutzer mit Screenreader**
> I want to **die Benutzeroberflaeche vollstaendig per Screenreader bedienen**
> So that **um eine barrierefreie, einfache und sichere Nutzung der Plattform zu ermoeglichen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer verwendet einen gaengigen Screenreader und oeffnet die Anwendung
- When: er durch alle interaktiven Elemente navigiert
- Then: werden Beschriftungen, Rollen und Zustaende korrekt vorgelesen und die Navigation ist vollstaendig moeglich

**AC-2:**
- Given: ein Dialog oder Formular mit Pflichtfeldern ist geoefnet
- When: der Nutzer ein Pflichtfeld leer laesst und das Formular absendet
- Then: wird die Fehlermeldung eindeutig vorgelesen und das betroffene Feld wird korrekt fokussiert

**AC-3:**
- Given: die Anwendung enthaelt dynamisch geladene Inhalte
- When: neue Inhalte geladen oder aktualisiert werden
- Then: werden diese Aenderungen vom Screenreader automatisch angesagt, ohne dass der Nutzer die Seite neu laden muss

---

## US-107: Schriftgroesse

**Priority:** MUST
**Linked Requirement:** WA-ACC-002

### User Story

> As a **Endnutzer**
> I want to **die Schriftgröße in der Anwendung anpassen**
> So that **um die Bedienung intuitiv zu halten und die Lesbarkeit zu verbessern**

### Acceptance Criteria

**AC-1:**
- Given: der Endnutzer ist in der Anwendung angemeldet
- When: er eine verfügbare Schriftgrößenstufe auswählt
- Then: werden Texte in der gesamten Anwendung sofort und konsistent in der gewählten Größe dargestellt

**AC-2:**
- Given: der Endnutzer hat eine Schriftgrößenstufe ausgewählt
- When: er die Anwendung neu startet oder die Seite neu lädt
- Then: bleibt die gewählte Schriftgröße gespeichert und wird erneut angewendet

**AC-3:**
- Given: der Endnutzer versucht eine nicht unterstützte Schriftgröße zu setzen
- When: die Auswahl nicht in der Liste verfügbarer Stufen ist
- Then: wird die Auswahl abgelehnt und die zuletzt gültige Schriftgröße beibehalten

---

## US-108: Kontrast

**Priority:** MUST
**Linked Requirement:** WA-ACC-003

### User Story

> As a **Endnutzer**
> I want to **die Benutzeroberflaeche lesen und bedienen**
> So that **Inhalte klar erkennen und die App schnell und intuitiv nutzen zu koennen**

### Acceptance Criteria

**AC-1:**
- Given: die Standardoberflaeche mit Text, Icons und Schaltflaechen
- When: der Nutzer die UI betrachtet
- Then: Text und Bedienelemente sind klar vom Hintergrund unterscheidbar und gut lesbar

**AC-2:**
- Given: verschiedene Bildschirmhelligkeiten und Umgebungslichtbedingungen
- When: die Oberflaeche angezeigt wird
- Then: wesentliche Inhalte und Aktionen bleiben visuell erkennbar

**AC-3:**
- Given: benutzerdefinierte Themes oder Farboptionen
- When: ein Theme gewaehlt wird
- Then: das System verhindert oder korrigiert Farbkombinationen mit unzureichendem Kontrast

---

## US-109: Sprachnachrichten transkribieren

**Priority:** SHOULD
**Linked Requirement:** WA-ACC-004

### User Story

> As a **Endnutzer**
> I want to **Sprachnachrichten automatisch transkribieren lassen**
> So that **Inhalte schnell lesen zu können, auch ohne Abhören, und dadurch Zeit zu sparen**

### Acceptance Criteria

**AC-1:**
- Given: eine empfangene Sprachnachricht liegt vor und die Transkriptionsfunktion ist aktiviert
- When: die Nachricht im Chat geöffnet wird
- Then: wird ein lesbares Texttranskript in der Nachricht angezeigt

**AC-2:**
- Given: eine Sprachnachricht enthält unklare oder stark verrauschte Audioanteile
- When: die Transkription ausgeführt wird
- Then: werden unverständliche Passagen als Platzhalter gekennzeichnet und der Nutzer darüber informiert

**AC-3:**
- Given: der Transkriptionsdienst ist vorübergehend nicht verfügbar
- When: eine neue Sprachnachricht transkribiert werden soll
- Then: erhält der Nutzer eine Fehlermeldung und kann die Transkription später erneut anstoßen

---

## US-110: Offline-Modus

**Priority:** MUST
**Linked Requirement:** WA-PERF-001

### User Story

> As a **Endnutzer**
> I want to **Nachrichten lesen und verfassen, wenn keine Internetverbindung besteht**
> So that **um grundlegende Funktionen auch offline nutzen zu koennen und die Kommunikation nicht zu unterbrechen**

### Acceptance Criteria

**AC-1:**
- Given: die App ist installiert und es liegt keine Internetverbindung vor
- When: der Nutzer oeffnet die App
- Then: die App startet im Offline-Modus und zeigt zuletzt synchronisierte Inhalte an

**AC-2:**
- Given: die App befindet sich im Offline-Modus
- When: der Nutzer erstellt und sendet eine Nachricht
- Then: die Nachricht wird lokal gespeichert und als 'ausstehend' markiert

**AC-3:**
- Given: es besteht wieder eine Internetverbindung
- When: die App synchronisiert
- Then: alle ausstehenden Nachrichten werden automatisch gesendet und der Status wird aktualisiert

---

## US-111: Schneller App-Start

**Priority:** MUST
**Linked Requirement:** WA-PERF-002

### User Story

> As a **App-Nutzer**
> I want to **die App starten**
> So that **um schnell auf Nachrichten und Funktionen zugreifen zu koennen und eine fluessige Nutzung zu erleben**

### Acceptance Criteria

**AC-1:**
- Given: die App ist installiert und das Geraet hat eine stabile Internetverbindung
- When: der Nutzer die App startet
- Then: ist die App innerhalb eines definierten Zeitfensters einsatzbereit und zeigt den Startbildschirm

**AC-2:**
- Given: die App ist installiert und das Geraet hat eine langsame oder instabile Internetverbindung
- When: der Nutzer die App startet
- Then: laedt die App innerhalb des definierten Zeitfensters den Startbildschirm und zeigt einen Hinweis zu eingeschraenkter Verbindung

**AC-3:**
- Given: die App ist installiert und Serverdienste sind nicht erreichbar
- When: der Nutzer die App startet
- Then: startet die App und zeigt eine klare Fehlermeldung sowie eine Option zum erneuten Versuch

---

## US-112: Effiziente Synchronisation

**Priority:** MUST
**Linked Requirement:** WA-PERF-003

### User Story

> As a **Business-Nutzer**
> I want to **Nachrichten effizient und zeitnah zwischen Plattformen synchronisieren**
> So that **damit Kundenkommunikation schnell, zuverlässig und konsistent erfolgt**

### Acceptance Criteria

**AC-1:**
- Given: eine Nachricht wird auf einem Gerät gesendet
- When: die Synchronisation startet
- Then: ist die Nachricht innerhalb des definierten Performance-Zeitfensters auf allen verbundenen Geräten sichtbar

**AC-2:**
- Given: eine Nachricht mit großer Anhangsgröße oder hoher Frequenz wird gesendet
- When: die Synchronisation durchgeführt wird
- Then: bleibt die Reihenfolge der Nachrichten korrekt und es treten keine Duplikate auf

**AC-3:**
- Given: die Netzwerkverbindung ist kurzzeitig unterbrochen
- When: die Synchronisation nicht abgeschlossen werden kann
- Then: wird der Vorgang automatisch wiederholt und der Nutzer erhält eine verständliche Statusmeldung

---

## US-113: Batterieeffizienz

**Priority:** MUST
**Linked Requirement:** WA-PERF-004

### User Story

> As a **registrierter Nutzer**
> I want to **die App nutzen, ohne dass der Akku übermäßig belastet wird**
> So that **damit ich die Kommunikation zuverlässig fortsetzen kann und das Gerät länger einsatzbereit bleibt**

### Acceptance Criteria

**AC-1:**
- Given: die App läuft im Vordergrund auf einem mobilen Gerät
- When: ich Nachrichten sende und empfange
- Then: bleibt der Akkuverbrauch im Vergleich zu vergleichbaren Messaging-Apps im erwartbaren Bereich

**AC-2:**
- Given: die App befindet sich im Hintergrund und es liegen keine neuen Nachrichten vor
- When: über einen Zeitraum von 30 Minuten keine Nutzerinteraktion erfolgt
- Then: verursacht die App keine häufigen Wakeups und der Energieverbrauch bleibt minimal

**AC-3:**
- Given: die App muss im Hintergrund Benachrichtigungen empfangen
- When: eine neue Nachricht eingeht
- Then: wird die Nachricht zugestellt, ohne dass die App dauerhaft im Hintergrund aktiv bleibt

---

## US-114: Speichereffizienz

**Priority:** MUST
**Linked Requirement:** WA-PERF-005

### User Story

> As a **Plattformbetreiber**
> I want to **möchte, dass das System Daten speichereffizient verarbeitet und speichert**
> So that **um Speicherbedarf und Kosten zu reduzieren und die Performance zu sichern**

### Acceptance Criteria

**AC-1:**
- Given: das System speichert neue Nachrichten und Medien
- When: Daten abgelegt werden
- Then: werden Kompression und Deduplication angewendet, sodass der Speicherverbrauch pro Datensatz messbar geringer ist als ohne Optimierung

**AC-2:**
- Given: mehrere identische Anhänge werden von verschiedenen Nutzern hochgeladen
- When: das System die Dateien speichert
- Then: wird nur eine physische Kopie gespeichert und weitere Verweise werden erstellt

**AC-3:**
- Given: der verfügbare Speicher nähert sich dem definierten Schwellenwert
- When: der Grenzwert erreicht oder überschritten wird
- Then: wird ein Alarm ausgelöst und weitere Speicherung wird kontrolliert gedrosselt, ohne Datenverlust zu verursachen

---

## US-115: Share-Extension

**Priority:** MUST
**Linked Requirement:** WA-INT-001

### User Story

> As a **Endnutzer**
> I want to **Inhalte aus anderen Apps über die System-Share-Erweiterung in die Anwendung teilen**
> So that **Nachrichten schnell und plattformübergreifend versenden zu können und dabei Datenschutz und zuverlässige Zustellung zu gewährleisten**

### Acceptance Criteria

**AC-1:**
- Given: Der Endnutzer befindet sich in einer unterstützten Drittanbieter-App mit teilbarem Inhalt
- When: der Nutzer die System-Share-Erweiterung der Anwendung auswählt
- Then: wird die Share-Erweiterung geöffnet und der Inhalt wird korrekt übernommen

**AC-2:**
- Given: Die Share-Erweiterung ist geöffnet und eine gültige Empfängerauswahl sowie Internetverbindung sind vorhanden
- When: der Nutzer den Versand bestätigt
- Then: wird die Nachricht erfolgreich zugestellt und der Nutzer erhält eine Bestätigung

**AC-3:**
- Given: Die Share-Erweiterung ist geöffnet, aber der Inhaltstyp wird nicht unterstützt
- When: der Nutzer versucht, den Inhalt zu teilen
- Then: wird eine verständliche Fehlermeldung angezeigt und der Versand verhindert

**AC-4:**
- Given: Die Share-Erweiterung ist geöffnet und keine Internetverbindung ist verfügbar
- When: der Nutzer den Versand startet
- Then: wird der Nutzer über das Problem informiert und der Versand nicht durchgeführt

---

## US-116: Siri/Google Assistant

**Priority:** SHOULD
**Linked Requirement:** WA-INT-002

### User Story

> As a **Endnutzer**
> I want to **per Siri oder Google Assistant Nachrichten über das System senden und empfangen**
> So that **eine einfache, schnelle und plattformübergreifende Bedienung mit zuverlässiger Zustellung zu erhalten**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer hat die Sprachassistenten-Integration aktiviert und die erforderlichen Berechtigungen erteilt
- When: der Nutzer einen gültigen Sprachbefehl zum Senden einer Nachricht gibt
- Then: die Nachricht wird erfolgreich versendet und eine Bestätigung wird über den Sprachassistenten ausgegeben

**AC-2:**
- Given: der Nutzer hat keine Berechtigungen für Mikrofon oder Sprachassistent erteilt
- When: der Nutzer versucht, eine Nachricht per Sprachbefehl zu senden
- Then: das System informiert über die fehlenden Berechtigungen und bietet eine Anleitung zur Aktivierung

**AC-3:**
- Given: der Sprachbefehl ist unvollständig oder enthält einen nicht erkennbaren Empfänger
- When: der Nutzer den Sprachbefehl abschließt
- Then: das System fordert eine Klärung des Empfängers oder der Nachricht an, ohne eine Nachricht zu senden

---

## US-117: Widgets

**Priority:** SHOULD
**Linked Requirement:** WA-INT-003

### User Story

> As a **Endnutzer**
> I want to **Home-Screen-Widgets der App hinzufuegen und konfigurieren**
> So that **wichtige Informationen schnell und intuitiv auf dem Startbildschirm sehen zu koennen**

### Acceptance Criteria

**AC-1:**
- Given: die App ist installiert und der Nutzer hat der Widget-Nutzung zugestimmt
- When: der Nutzer fuegt ein Widget ueber die System-Widget-Auswahl hinzu
- Then: das Widget wird auf dem Home-Screen angezeigt und zeigt aktuelle Inhalte an

**AC-2:**
- Given: ein Widget ist auf dem Home-Screen vorhanden
- When: der Nutzer oeffnet die Widget-Einstellungen und aendert die Anzeigeoptionen
- Then: das Widget aktualisiert sich entsprechend der neuen Einstellungen

**AC-3:**
- Given: keine Netzwerkverbindung ist verfuegbar
- When: das Widget versucht Inhalte zu laden
- Then: das Widget zeigt einen Offline-Hinweis an und bleibt stabil funktionsfaehig

---

## US-118: Watch-App

**Priority:** SHOULD
**Linked Requirement:** WA-INT-004

### User Story

> As a **Endnutzer**
> I want to **Benachrichtigungen und Nachrichten der App auf der Smartwatch empfangen und darauf reagieren**
> So that **damit ich Informationen schnell und sicher nutzen kann, ohne das Smartphone zu entsperren**

### Acceptance Criteria

**AC-1:**
- Given: die Smartwatch-Integration ist aktiviert und die Uhr ist gekoppelt
- When: eine neue Nachricht in der App eingeht
- Then: wird die Nachricht innerhalb von 5 Sekunden als Benachrichtigung auf der Smartwatch angezeigt

**AC-2:**
- Given: die Smartwatch ist verbunden und eine Benachrichtigung wird angezeigt
- When: ich antworte über die Smartwatch
- Then: wird die Antwort in der App gesendet und als zugestellt markiert

**AC-3:**
- Given: die Smartwatch ist nicht verbunden oder der Nutzer hat Benachrichtigungen deaktiviert
- When: eine neue Nachricht eingeht
- Then: wird keine Smartwatch-Benachrichtigung gesendet und in der App eine verständliche Hinweis-/Fehlermeldung protokolliert

---

## US-119: Desktop-App

**Priority:** MUST
**Linked Requirement:** WA-INT-005

### User Story

> As a **Business-Nutzer**
> I want to **die native Desktop-App auf meinem Betriebssystem installieren und nutzen**
> So that **um Nachrichten schnell, sicher und plattformuebergreifend bearbeiten zu koennen**

### Acceptance Criteria

**AC-1:**
- Given: ein unterstuetztes Betriebssystem liegt vor
- When: ich die Desktop-App herunterlade und installiere
- Then: laesst sich die App starten und ich kann mich erfolgreich anmelden

**AC-2:**
- Given: ich bin angemeldet und online
- When: ich eine Nachricht sende
- Then: wird die Nachricht zuverlaessig zugestellt und in der Desktop-App angezeigt

**AC-3:**
- Given: die Desktop-App laeuft auf einem nicht unterstuetzten Betriebssystem
- When: ich die App installieren moechte
- Then: erhalte ich eine klare Fehlermeldung mit Hinweis auf unterstuetzte Plattformen

---

## US-120: Web-Version

**Priority:** MUST
**Linked Requirement:** WA-INT-006

### User Story

> As a **Endnutzer**
> I want to **die Anwendung als Web-Version im Browser nutzen**
> So that **um plattformuebergreifend, schnell und sicher auf Nachrichten zugreifen zu koennen**

### Acceptance Criteria

**AC-1:**
- Given: ein Benutzer besitzt einen gueltigen Zugang
- When: er die Web-Adresse in einem aktuellen Browser aufruft und sich anmeldet
- Then: wird die Web-Version geladen und alle Kernfunktionen der Nachrichtenkommunikation sind verfuegbar

**AC-2:**
- Given: ein Benutzer nutzt unterschiedliche Endgeraete und Browser
- When: er die Web-Version jeweils aufruft
- Then: ist die Bedienung konsistent und die Performance innerhalb definierter Ladezeiten

**AC-3:**
- Given: die Verbindung ist instabil oder faellt aus
- When: der Benutzer eine Nachricht senden moechte
- Then: erhaelt er eine klare Fehlermeldung und die Nachricht wird nicht als zugestellt markiert

**AC-4:**
- Given: ein Benutzer versucht die Web-Version ohne gueltige Anmeldung zu nutzen
- When: er geschuetzte Bereiche aufruft
- Then: wird der Zugriff verweigert und eine sichere Anmeldung verlangt

---

## US-121: Meta AI Chat

**Priority:** SHOULD
**Linked Requirement:** WA-AI-001

### User Story

> As a **Geschaeftskunde**
> I want to **den integrierten KI-Assistenten im Chat nutzen, um Kundenanfragen automatisch zu beantworten**
> So that **um schnelle, konsistente Antworten zu liefern und den Kundenservice zu entlasten**

### Acceptance Criteria

**AC-1:**
- Given: der Geschaeftskunde hat ein verifiziertes Business-Profil und die KI-Assistenten-Integration ist aktiviert
- When: eine Kundenanfrage im Chat eingeht
- Then: der KI-Assistent liefert innerhalb von 2 Sekunden eine passende Antwort und sendet sie an den Kunden

**AC-2:**
- Given: die Kundenanfrage enthaelt personenbezogene Daten oder sicherheitsrelevante Inhalte
- When: der KI-Assistent die Antwort generieren soll
- Then: die Antwort wird datenschutzkonform gefiltert und vertrauliche Informationen werden nicht ausgegeben

**AC-3:**
- Given: die KI-API ist voruebergehend nicht erreichbar
- When: eine Kundenanfrage eingeht
- Then: das System informiert den Geschaeftskunden ueber den Ausfall und stellt die Anfrage zur manuellen Bearbeitung bereit

---

## US-122: Smart Reply

**Priority:** COULD
**Linked Requirement:** WA-AI-002

### User Story

> As a **Business-Account-Nutzer**
> I want to **intelligente Antwortvorschläge beim Verfassen von Nachrichten nutzen**
> So that **schneller und konsistenter mit Kunden kommunizieren zu koennen**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer befindet sich in einem aktiven Chat mit einem Kunden
- When: der Nutzer den Antwortbereich oeffnet oder eine eingehende Nachricht erhaelt
- Then: zeigt das System relevante intelligente Antwortvorschlaege an

**AC-2:**
- Given: das System kann keinen passenden Vorschlag aus dem Kontext ableiten
- When: der Nutzer den Antwortbereich oeffnet
- Then: werden keine irrelevanten Vorschlaege angezeigt und die Funktion bleibt deaktiviert

**AC-3:**
- Given: die Vorschlagsfunktion ist aufgrund eines Systemfehlers nicht verfuegbar
- When: der Nutzer versucht einen Vorschlag zu laden
- Then: wird eine neutrale Fehlermeldung angezeigt und der Nutzer kann die Nachricht manuell verfassen

---

## US-123: Sticker-Vorschlaege

**Priority:** COULD
**Linked Requirement:** WA-AI-003

### User Story

> As a **Endnutzer**
> I want to **kontextbasierte Sticker-Vorschläge beim Verfassen von Nachrichten erhalten**
> So that **schneller und intuitiver kommunizieren und passende Antworten finden**

### Acceptance Criteria

**AC-1:**
- Given: der Endnutzer verfasst eine Nachricht in einem Chat
- When: relevante Schlüsselwörter oder Emojis eingegeben werden
- Then: zeigt das System passende Sticker-Vorschläge in Echtzeit an

**AC-2:**
- Given: der Endnutzer verfasst eine Nachricht ohne eindeutigen Kontext
- When: keine relevanten Signale erkannt werden
- Then: zeigt das System keine Sticker-Vorschläge oder eine neutrale Standardauswahl an

**AC-3:**
- Given: die Sticker-Datenquelle ist vorübergehend nicht erreichbar
- When: der Endnutzer eine Nachricht verfasst
- Then: bleibt die Nachrichtenerstellung funktionsfähig und es erscheint ein Hinweis, dass keine Vorschläge verfügbar sind

---

## US-124: RTL-Unterstuetzung

**Priority:** MUST
**Linked Requirement:** WA-LOC-001

### User Story

> As a **Endnutzer**
> I want to **die Benutzeroberflaeche in einer rechts-nach-links Sprache verwenden**
> So that **die App intuitiv und fehlerfrei in der bevorzugten Sprache bedienen zu koennen**

### Acceptance Criteria

**AC-1:**
- Given: die Systemsprache ist auf Arabisch eingestellt
- When: der Nutzer den Chat- und Einstellungsbildschirm oeffnet
- Then: werden alle Texte, Layouts und Navigationselemente rechts-nach-links korrekt angezeigt

**AC-2:**
- Given: der Nutzer schreibt eine Nachricht mit gemischten RTL- und LTR-Texten
- When: die Nachricht gesendet und angezeigt wird
- Then: bleiben die Textrichtung und die Zeichensatzdarstellung in beiden Richtungen korrekt

**AC-3:**
- Given: eine Komponente unterstuetzt RTL nicht vollstaendig
- When: sie in einer RTL-Sprache geladen wird
- Then: erhaelt der Nutzer keine fehlerhafte Ausrichtung, sondern eine konsistente Standarddarstellung ohne Funktionsverlust

---

## US-125: Regionale Formate

**Priority:** MUST
**Linked Requirement:** WA-LOC-002

### User Story

> As a **Endnutzer**
> I want to **Datums-, Zahlen- und Waehrungsformate gemaess meiner Region angezeigt und eingegeben bekommen**
> So that **damit ich das System intuitiv und fehlerfrei nutzen kann und Eingaben korrekt verarbeitet werden**

### Acceptance Criteria

**AC-1:**
- Given: die Benutzeroberflaeche ist in einer Region mit deutschem Format eingestellt
- When: ich ein Datum, eine Zahl und einen Geldbetrag ansehe oder eingebe
- Then: werden Anzeige und Validierung im Format TT.MM.JJJJ, Dezimalkomma und EUR-Symbol verwendet

**AC-2:**
- Given: die Regionseinstellung wird auf eine andere Locale gewechselt
- When: ich die Ansicht neu lade
- Then: werden Datums-, Zahlen- und Waehrungsformate automatisch an die neue Locale angepasst

**AC-3:**
- Given: ich gebe einen Wert in einem nicht zur Region passenden Format ein
- When: ich die Eingabe speichere
- Then: erhalte ich eine Fehlermeldung mit Hinweis auf das erwartete regionale Format und der Wert wird nicht gespeichert

---

## US-126: Lokale Sticker

**Priority:** COULD
**Linked Requirement:** WA-LOC-003

### User Story

> As a **registrierter Nutzer**
> I want to **regionalspezifische Sticker-Packs auswählen und verwenden**
> So that **um in Chats lokal passende Inhalte zu teilen und die Kommunikation persönlicher zu gestalten**

### Acceptance Criteria

**AC-1:**
- Given: der Nutzer ist angemeldet und befindet sich in einem Chat
- When: der Nutzer die Sticker-Auswahl öffnet
- Then: werden ihm Sticker-Packs angezeigt, die seiner Region entsprechen

**AC-2:**
- Given: für die Region des Nutzers sind keine lokalen Sticker-Packs verfügbar
- When: der Nutzer die Sticker-Auswahl öffnet
- Then: werden Standard-Sticker angezeigt und ein Hinweis zur fehlenden regionalen Verfügbarkeit eingeblendet

**AC-3:**
- Given: die Regionsermittlung kann aufgrund fehlender Berechtigung nicht erfolgen
- When: der Nutzer die Sticker-Auswahl öffnet
- Then: fordert das System die Berechtigung an und bietet eine manuelle Regionseinstellung als Alternative an

---

